
You will find descriptions of the changes to the RIP version 3
source code in this file. For the difference file between the
current release and the last release, please see 
Diff/diff.ddmmmyy. The 'current release' refers to the newest
source code, while the 'last release' refers to the source code
in the previous release. Each release will be a complete tar file
such as this. The bug fixes/changes in the diff.ddmmmyy
files will be the differences between successive releases.

The current release is 3.1 (release-3-1, December 5, 2001).

==========================================================

Changes in 3.1

10/11/01:

- Added capability to plot skew-Ts for polar conditions,
  which are much colder than the standard skew-T background can 
  accomodate.  Using the new logical parameter "plrs"
  when calling for a sounding in the input file will result 
  in a polar skew-T backgound.  

  Affected files:
  sticdraw_polar.f  (new)
  scondraw_polar.f  (new)
  svecdraw_polar.f  (new)

  driver.f
  readspec.f
  Makefile


08/27/01:

- Add capability to rotate polar stereographic plots. 
  Horizontal plots can be rotated by either 90 (ccw), -90 (cw) or 180 
  degrees by specifying rota=090., rota=-90., or rota=180.
  eg. feld=tmc; ptyp=hc; rota=090.; cint=10; linw=1.

  Affected files:
  src/readspec.f, tserprep.f, maptform.f, hmapdraw.f, hticdraw.f
  src/hlinedraw.f, hbulldraw.f, hsidsdraw.f, hchadraw.f, hcondraw.f, hvecdraw.f

06/22/01:

- Instructions were added to the Users' Guide to explain how to create 2D
  vs. 3D data for Vis5D

  Affected files:
  Doc/ripug.html

- Vertical profiling capability was enhanced to include alternate vertical
  coordinate and vertical windowing

  Affected files:
  src/profil.f

- Fixed problem with bad values over high terrain when differencing
  temperature-related quantities on multiple pressure levels.

  Affected files:
  src/driver.f

- Fixed typo in "usage" message in ripcomp.

  Affected files:
  src/ripcomp.f

- Added instruction to README file about changing "flush" to "fflush" if
  using IBM SP

  Affected files:
  README

- Fixed various problems with the time series print-out utility,
  and made it usable for general users, with an explanation added to
  the Users' Guide.

  Affected files:
  rip_sample.in, tserstn.dat (new file), Doc/ripug.html,
  src/driver.f, hcondraw.f, pltitle.f, tserprep.f
  

- Fixed bug associated with creating diagnostics of 3-D quantities along
  trajectories

  Affected files:
  src/driver.f

- Changed calculation of maximum CAPE (feld=mcap) so that, instead of using
  parcel properties at level of maximum theta-e, it uses an average of the air
  properties within a 500-m thick layer centered at the level of maximum theta-e

  Affected files:
  src/capecalc3d.f, fields.f

- Fixed bug associated with conversion of missing ratios prior to calling
  bvfricalc

  Affected files:
  src/fields.f

- Fixed bug with indwk array in fields.f, which caused problems plotting two
  vector fields in the same frame.

  Affected files:
  src/fields.f

- Fixed virtual temperature bug in liftparcel.f

  Affected files:
  src/liftparcel.f

- Fixed problem with clipping if a cross section is plotted after a sounding

  Affected files:
  src/sstats.f

- Added to Users' Guide an example of usage of vertical coordinate for
  trajectory plots.

  Affected files:
  Doc/ripug.html

- Renovated stationlist, including changing column format, updating stations
  with latest NCEP lists, and adding a full international list; changed input
  of stationlist to read all information into memory the first time it gets
  used, so that subsequent station searches will be faster; standardized all
  uses of station IDs to require either the 5-digit WMO number or the
  4-character ICAO identifier

  Affected files:
  stationlist, src/driver.f, tserprep.f, locinterp.f, hsidsdraw.f

- Added some new colors to the standard-issue color.tbl file. (Note, users
  can add any other colors they want, or remove or change any colors other
  than the first two.)

  Affected files:
  src/color.tbl

- Made some changes to allow for plotting of an aircraft flight track as if it
  were a trajectory.  This is not a supported feature.  You're welcome to try it
  if you can figure out for yourself how to use it.  This code does not
  adversely affect any other functionality of RIP.

  Affected files:
  src/driver.f, pltitle.f, finterp.f, htrajdraw.f, vtrajdraw.f

- Fixed "slope" bug in sstats

  Affected files:
  src/sstats.f

- Fixed problem with vwin.  It will now reset to default values if vcor changes.

  Affected files:
  src/readspec.f

- Changed all uses of "print*," in rip.f and driver.f to "write(6,*) "

  Affected files:
  src/rip.f, driver.f

- Changed ddpcalc to use actual pressure difference between levels, instead of
  delta_sigma * p_star

  Affected files:
  src/ddpcalc.f

1/2/00:

- Changed references to formatted reads in f12.0 
  to reads in free format (fmt=*). This is to prevent 
  errors on certain platforms when the value to be read 
  was not written in f12.0 format.
  
  Affected files:
  src/getrnum.f, getinum.f, locinterp.f, fields.f   .

- Add compiler option for IBM SP2 (such as blackforest at NCAR).

  Affected file:
  Makefile, README

11/28/00:

- Correct a problem with Makefile for Linux (Thanks to Matthew Johnson
  of Air Quality Bureau, Iowa)

  Affected file:
  Makefile

11/21/00:

- In fields.f:  - field tmv (virtual temp. in K) was changed to tvk
                - field tvc (virtual temp. in deg. C) was added

- Users' Guide: - description of existing field tvcl (virtual temp.
                     of a lifted parcel, deg. C) was added
                - tmv was changed to tvk
                - description was added for tvc

  Affected files:
  src/fields.f, Doc/ripug.html

11/17/00:

- A correction to NCAR Graphics routine (cpplps.f) to prevent
  from getting into infinite loop.

  Affected file:
  src/Makefile, cpplps.f (new from NCAR Graphics)

- Change maxtraj parameter from a value of 20000 to 1000.
  This change corrects a problem with some compilers.

  Affected files:
  src/rip.f, showtraj.f, tabdiag.f
