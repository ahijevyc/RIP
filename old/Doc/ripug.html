<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Generator" content="Microsoft Word 97">
   <meta name="GENERATOR" content="Mozilla/4.7 [en] (Win95; U) [Netscape]">
   <meta name="Author" content="Mark Stoelinga">
   <title>A Users' Guide to RIP</title>
</head>
<body>

<center><b><font size=+2>A Users' Guide to RIP Version 3:</font></b>
<br><b><font size=+2>A Program for Visualizing PSU/NCAR</font></b>
<br><b><font size=+2>Mesoscale Modeling System Output</font></b>
<p><font size=+1>Mark T. Stoelinga</font>
<br><i><font size=+1>University of Washington</font></i>
<p><font size=+1>31 October 2000</font></center>
<p><font size=+1>Updated 11 October 2001</font></center>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<p><font size=+1>Table of Contents</font>
<ol>
<li>
<font size=+1><a href="#intro">Introduction</a></font></li>

<li>
<font size=+1><a href="#setup">Setting up RIP on your system</a></font></li>

<li>
<font size=+1><a href="#ripdp">Preparing data with RIPDP</a></font></li>

<li>
<font size=+1><a href="#uif">The RIP user input file</a></font></li>

<li>
<font size=+1><a href="#runrip">Running RIP</a></font></li>

<li>
<font size=+1><a href="#plev">Using RIP with pressure-level data sets</a></font></li>

<li>
<font size=+1><a href="#traj">Calculating and plotting trajectories</a></font></li>

<li>
<font size=+1><a href="#v5d">Creating a data set for Vis5D</a></font></li>
</ol>
<font size=+1>Appendix A. <a href="#keyw">Keywords</a></font>
<br><font size=+1>Appendix B. <a href="#fields">Available fields for plotting</a></font>
<br>&nbsp;
<p><a NAME="intro"></a><b>1. Introduction</b>
<p>RIP (which stands for <u>R</u>ead/<u>I</u>nterpolate/<u>P</u>lot) is
a Fortran program that invokes NCAR Graphics routines for the purpose of
visualizing output from the Fourth and Fifth Generation versions of the
PSU/NCAR Mesoscale Model (MM4/MM5) System. It has been under continuous
development since 1991, primarily by Mark Stoelinga at both NCAR and the
University of Washington. The writing of this document coincides with the
development of RIP Version 3 by Mark Stoelinga and the NCAR MM5 Group,
and with its release as an officially supported component of NCAR's MM5
modeling system.
<p>The program is designed to be portable to any UNIX system that has a
Fortran 77 or Fortran 90 compiler and the NCAR Graphics library. The UNIX
operating system is not necessarily a requirement, but this document is
written with the assumption that you are working on a UNIX system. The
author has not given a considerable amount of thought to problems that
may arise on another operating system.
<p>RIP can be described as "quasi-interactive". You specify the desired
plots by editing a formatted text file. The program is executed, and an
NCAR Graphics CGM file is created, which can be viewed with any one of
several different metacode translator applications. The plots can be modified,
or new plots created, by changing the user input file and re-executing
RIP. Some of the basic features of the program are outlined below:
<ul>
<li>
uses a preprocessing program which reads either MM4 model output (Version
8 and special PV integration output), MM5 model output (Versions 0, 1,
2, or 3), MM5 model input (Versions 1, 2, or 3), TERRAIN program output
(Version 3 only), or pressure-level analyses from front-end programs (Version
3 only), and converts this data into standard RIP format data files that
can be ingested by RIP.</li>

<li>
makes Lambert Conformal, Polar Stereographic, or Mercator map backgrounds,
with any standard parallels.</li>

<li>
makes horizontal plots of contours, filled contours, vectors, streamlines,
or characters.</li>

<li>
makes horizontal plots on sigma<i>, </i>pressure, height, potential temperature,
equivalent potential temperature, or potential vorticity surfaces.</li>

<li>
makes vertical cross sections of contours, filled contours, full vectors,
or horizontal wind vectors.</li>

<li>
makes vertical cross sections using sigma, pressure, log pressure, Exner
function, height, potential temperature, equivalent potential temperature,
or potential vorticity as the vertical coordinate.</li>

<li>
makes skew-<i>T</i>/log <i>p </i>soundings at points specified as grid
coordinates, lat/lon coordinates, or station locations, with options to
plot a hodograph or print sounding-derived quantities.</li>

<li>
calculates backward or forward trajectories, including hydrometeor trajectories,
and calculates diagnostic quantities along trajectories.</li>

<li>
plots trajectories in horizontal maps or vertical cross sections.</li>

<li>
makes a data set for use in the Vis5D visualization software package</li>

<li>
allows for complete user control over the appearance (color, line style,
labeling, etc.) of all aspects of the plots</li>

<br>&nbsp;</ul>
<a NAME="setup"></a><b>2. Setting up RIP on your system</b>
<p><i>a. Obtaining and unpacking the code and related files</i>
<p>The most recent version of the code can be downloaded from the <a href="ftp://ftp.ucar.edu/mesouser/MM5V3/RIP.TAR.gz">PSU/NCAR
Mesoscale Model ftp site at NCAR</a>. Download the compressed tar file,
RIP.TAR.gz, to your local machine, and uncompress the file (i.e., <font face="Courier
New,Courier">gunzip
RIP.TAR.gz</font>). The tar file contains a top-level directory called
RIP, in which all the RIP-related files reside. Unpacking the tar file
(i.e., running <font face="Courier New,Courier">tar xf RIP.TAR</font>)
will create a RIP directory, as a subdirectory of your current working
directory, and will place all the RIP-related files in that new RIP directory.
Thus, before unpacking the RIP tar file, you should first change to a directory
that you want to be the parent directory of your RIP directory. This would
commonly be your home directory. The tar file contains the following directories
and files:
<ul>
<li>
<i>CHANGES</i>, a text file that logs changes to the RIP tar file</li>

<li>
<i>Diff/</i>, a directory that contains files with actual differences (generated
with "diff") between different releases of RIP Version 3</li>

<li>
<i>Doc/</i>, a directory that contains documentation of RIP, most notably
the HTML version of the Users' Guide that you are now reading (<i>ripug.html</i>).</li>

<li>
<i>Makefile</i>, the top-level make file used to compile and link RIP</li>

<li>
<i>README</i>, a text file containing basic in</li>

<li>
<i>color.tbl</i>, a file that contains a table defining the colors you
want to have available for RIP plots</li>

<li>
<i>psadilookup.dat</i>, a file that contains "look-up" table data for obtaining
temperature on a pseudoadiabat</li>

<li>
<i>ripdp_sample.in</i>, <i>rip_sample.in</i>, and <i>tabdiag_sample.in</i>,
sample input files for programs RIPDP, RIP, and TABDIAG</li>

<li>
<i>src/</i>, a directory that contains all of the source code files for
RIP, RIPDP, and several other utility programs. Most of these are Fortran
77 source code files with extension
<i>.f</i>.&nbsp; In addition, there
are:</li>

<ul>
<li>
<i>.h</i> and <i>.c</i> files, which are C source code files</li>

<li>
<i>comconst</i>, an include file that contains common blocks that hold
constants for use by several of the routines in RIP</li>

<li>
<i>pointers</i>, an include file that contains pointer declarations used
in some of the routines in RIP</li>

<li>
<i>Makefile</i>, a secondary make file used to compile and link RIP</li>
</ul>

<li>
<i>stationlist</i>, a file containing observing station location information</li>
</ul>
Also on the MM5 anonymous ftp site, there are a few examples of special
<a href="ftp://ftp.ucar.edu/mesouser/MM5V3/GRAPH-RIP_DATA">map
background definition files</a>, of the form <i>xxxx.ascii</i>. The three
examples currently available are <i>asia.ascii</i>, <i>china.ascii</i>,
and
<i>us_county.ascii</i>. These are large files, and therefore were not
included in the RIP tar file. If you are going to use such files, you should
download them (or create your own) and place them in your RIP directory.&nbsp;
The use of these files is discussed further in Appendix A, "Keywords".
<p><i>b. Setting the RIP_ROOT environment variable</i>
<p>In order for RIP to work, you must define a UNIX environment variable
called RIP_ROOT. RIP_ROOT should be assigned the path name of the directory
where all your RIP program and utility files (<i>color.tbl</i>,
<i>stationlist</i>,
<i>.ascii</i>
files, <i>psadilookup.dat</i>) reside. If you unpacked the RIP tar file
in your home directory, then the natural choice for your RIP_ROOT directory
is the RIP subdirectory that was created when you unpacked the RIP tar
file.
<p>For simplicity, you should define RIP_ROOT in one of your UNIX start-up
files. For example, if you use c-shell, and you have unpacked your RIP
files into a directory called <i>/users/johndoe/RIP</i>, and that is where
you intend to have the code and utility files reside, you should include
in your <i>.login</i> or <i>.cshrc</i> file the line
<p><font face="Courier New,Courier">setenv RIP_ROOT /users/johndoe/RIP</font>
<p>RIP uses the system call <i>getenv</i> to retrieve the value of RIP_ROOT
from within the program. If your system's Fortran does not support the
system call <i>getenv</i>, you can use instead the variable <i>rip_root</i>
in the <i>&amp;userin</i> namelist in the RIP user input file (UIF) to
tell RIP where to find the utility files. This is described in more detail
in <a href="#rip_root">section 4</a> of the Users' Guide.
<p>In general, the utility files mentioned above require no editing or
user input. The exceptions to this are the color table file, <i>color.tbl</i>,
which allows you to define colors that will be used by RIP, and the observing
station listing file, <i>stationlist</i>, which provides location information
for observing stations that may be referenced in various aspects of the
plot request.<a NAME="colortable"></a>
<p><i>c. Changing the color table file</i>
<p>As you become more familiar with how RIP uses colors, you may want to
customize <i>color.tbl</i> to suit your own preferences. In the color table,
colors are defined according to fractions of red, green, and blue, with
each fraction being a number from 0.0 to 1.0. Each color is given a name.
You can define up to 256 different colors, but RIP will warn you if you
define more than 200, because RIP also needs to make use of the 256 available
color slots to define color shades for color-filled contour plots. The
basic structure of the table is as follows. The first four lines are ignored
– they are simply a banner that says that this is the color table. The
first two colors should always be given the names <i>def.background</i>
and <i>def.foreground</i>, in that order. However, their color fractions
can be changed if desired. <i>def.background</i> is the color used by NCAR
Graphics for any regions where no plotting instructions have been given
(i.e. the default background color). <i>def.foreground</i> is the color
used by NCAR Graphics for any plotting instructions in which you did not
explicitly ask for a particular color (i.e. the default foreground color).
Usually these are either black and white, or white and black, but the fractions
can be changed to make them different colors, as already mentioned above.
It is recommended that, regardless of the colors you use for <i>def.foreground</i>
and <i>def.background</i>, you also have those colors defined with their
appropriate names somewhere else in the table. For example, even if color
indices 0 and 1 are given the fractions 0.0,0.0,0.0 and 1.0,1.0,1.0, there
should also be colors named black and white with the same fractions somewhere
else in the table. The explicitly named black or white should be used when
you want things to be black or white. That way, if you change <i>def.foreground</i>
or <i>def.background</i> to something else, the things that should remain
black and white won't change color. The table should end with a line that
contains several consecutive minus signs.
<p>There are a few important things that you should be aware of if you
will be translating your plots to postscript:
<ul>
<li>
Postscript has no concept of "background color". Hence, regardless of what
your index 0 color is, translation to postscript (either mono or color)
will result in a blank or white background. If this is a problem, it can
be circumvented by using the <i>-simulatebg</i> option on the <i>ctrans</i>
command line.</li>

<li>
If you translate to mono postscript, all plotting instructions, regardless
of the color used (black, white, red, blue, etc.), will come out black.
This means any filled areas, regardless of color or color index used, will
waste large amounts of toner when printed out.</li>

<br>If you translate to color postscript, some monochromatic printers have
the nice feature that they convert all colors to halftone gray shades.</ul>
Finally, for experienced users of RIP Version 2, you've probably noticed
that the implementation of the color table has changed with RIP Version
3, in that the color table is no longer embedded within the UIF. The single
color table file in your RIP_ROOT directory should makes life easier, because
you'll be assured that any color that you've defined in the past (by adding
it to you <i>color.tbl</i> file) will be accessible to you, regardless
of how old your UIF is (or the file from which you copied it). Nevertheless,
if you prefer to have color tables in your UIFs (between the namelist section
and the plot specification table) as was done with RIP 2.0, you can continue
to put them there. If you run RIP with a UIF that contains a color table,
RIP will recognize that color table and read it instead of (NOT in addition
to) the color table in your RIP_ROOT directory.
<p><i>d. Changing or adding station listings in the stationlist file</i>
<p>Any number of additional stations can be added to the station listing.
The important thing is to keep the station information properly lined up
in the appropriate columns. The important pieces of information to enter
are the verbal description of the location (under column "Location"), the
ICAO four-letter code identifying the station (under
column "ICAO"), the latitude and longitude (under columns "Lat" and "Lon"),
and the WMO number of the station (under column "WMO#"). The other information
is not read by RIP. Elevation should be entered if you have it, because
it may be used in the future. The author is unsure of the meaning of the
information in the third column. If the WMO number is unknown or the station
has no WMO number, enter "00000" in that column.
<p><i>e. Compiling RIP and associated programs</i>
<p>RIP should be compiled with the UNIX <i>make</i> utility. There is a
top-level make file, called <i>Makefile</i>, in the <i>RIP/</i> directory,
as well as a secondary <i>Makefile</i> in the <i>RIP</i>/<i>src/</i> directory,
that are used for "making" RIP.&nbsp; The <i>make</i> command should be
executed from within the <i>RIP/</i> directory.&nbsp; First, you should
run the command <font face="Courier New,Courier">make</font> without any
options, which will show a brief help listing on how to run <i>make</i>
to compile RIP on your particular platform.&nbsp; You should choose the
option that will most likely work on your platform, and then run the make
command with that option.&nbsp; For example, if you are on a LINUX system,
type
<p><font face="Courier New,Courier">make linux >&amp;! make.out &amp;</font>
<p>The redirecting of <i>make</i> print output to the file <i>make.out</i>
is optional.&nbsp; A successful compilation will probably take several
minutes. If you have a multiprocessor machine, you may want to find out
how to run <i>make</i> so that the machine compiles on all processors at
the same time, as this may significantly speed up the compilation wall
clock time.
<p>If the compiling of RIP fails, it is likely that the top-level make
file needs to be customized for your particular platform.&nbsp; This involves
editing
<i>Makefile</i> so that the compile and link commands and options are correctly
configured for the particular system you are running on. There are several
sections of code in the <i>makefile</i> that pertain do different machines.&nbsp;
One of these sections needs to changed, or a new one created.&nbsp; The
important features that need to be adjusted are the compiler flags (<i>FFLAGS</i>),
link flags (<i>LDFLAGS</i>), and libraries (<i>LIBS</i>).&nbsp; The libraries
should include NCAR Graphics libraries--make sure you have the correct
location for the NCAR Graphics libraries on your system.&nbsp; In some
cases, you may be able to use <i>ncargf77</i> as the compiler (i.e., set
the <i>CF</i> variable to <i>ncargf77</i>) and not worry about specifying
all the specific libraries that are required for NCAR Graphics. Regardless
of how you accomplish the linking with NCAR Graphics, it should be pointed
out that the author has found some minor problems with RIP that occur if
you use a version of NCAR Graphics that is older than 4.0. Therefore, you
should try to link with NCAR Graphics 4.0 (or later) if you have it.
<p>A successful compilation will result in the creation of several object
and executable files in the <i>RIP/src/</i> directory.&nbsp; The make file
is also set up to create symbolic links in the <i>RIP/</i> directory to
the actual executables in the <i>RIP/src/</i> directory.&nbsp; In UNIX,
the best way to make the RIP program and other associated executables accessible
to you, regardless of your current working directory, is to add the path
name of your RIP directory to your executable path list (e.g., the <i>path</i>
shell variable in c-shell). For example, if the above-mentioned symbolic
links to the RIP executables reside in the directory <i>~johndoe/RIP</i>,
and you use the c-shell in UNIX, then you should add the following line
in your .cshrc file:
<p><font face="Courier New,Courier">set path = ($path ~johndoe/RIP)</font>
<p>With the RIP directory in your executable path, the RIP program (and
other associated utilities like <i>ripdp</i>) can be accessed easily without
having to put the executables in your working directory or having to specify
full path names for the executables.
<p><i>f. Notes on nonstandard Fortran 77</i>
<p>In general, the author has attempted to adhere to Fortran 77 standards
as much as possible in writing the code. However, a few nonstandard features
have been included, which are still available in most f77 and f90 compiling
systems.
<ul>
<li>
<a NAME="namelists"></a>Namelists: For some I/O, RIP and RIPDP use a nonstandard
feature known as a namelist. A namelist is a Fortran input file structure
that is not officially standard to Fortran 77, but which is available in
most Fortran 77 compilers. Namelists are placed in text files that are
opened and read by the Fortran program. The basic structure of a namelist
is, on the first line, the name of the namelist (preceded by an ampersand),
and then on subsequent lines a series of "variable = value" constructs,
each separated by commas, blank spaces, or a new line. (On some machines,
commas are required, so it's safest to always use them.) The final line
ends the namelist should contain the single word <i>end</i> preceded by
an ampersand. Each variable is an actual variable that is declared in a
special <i>namelist</i> statement inside the Fortran program. The variables
can be of any type. The value of a character variable should be enclosed
in single quotes, although it doesn't have to be if all the characters
in the string are alpha-numeric. The value of a logical variable should
be ".true." or ".false.". Arrays can be assigned multiple values separated
by commas (although it has come to the author's attention that with some
compilers such as Sun's Fortran 90, each array element must be separately
referenced with its index in parentheses). Here is a general example of
a namelist:</li>

<p><font face="Courier New,Courier">&amp;samplenlist</font>
<br><font face="Courier New,Courier">beatles='John','Paul','George','Ringo',</font>
<br>(or with Sun f90,<font face="Courier New,Courier"> beatles(1)='John',beatles(2)='Paul',</font>etc.)
<br><font face="Courier New,Courier">primenumbers=1,2,3,5,7,11,13, flag=.true.,</font>
<br><font face="Courier New,Courier">&amp;end</font>
<p>Not all the variables that are defined as part of the namelist in the
Fortran program need to be given values in the namelist file that is read.
Typically, all the namelist variables are assigned default values in the
program prior to the reading of the namelist file, so that they will retain
those default values if they are omitted from the namelist file.
<li>
System calls: RIP uses the following system calls: <i>getenv</i> (for retrieving
the value of a UNIX environment variable from within a program), <i>iargc</i>
(for retrieving the number of command line arguments), <i>getarg</i> (for
retrieving command line arguments), and <i>flush</i> (for flushing the
standard output buffer, so that the progress of the program can be easily
monitored). These system calls are quite common, and should be available
in the f77 and f90 compilers from Cray, Sun, SGI, DEC, and IBM.</li>

<li>
An early version of RIP required the changing of parameter values in the
code and recompiling of the program for each different sized domain that
was to be analyzed. In versions 2 and 3, this complication has been eliminated.
However, in order to do so, the program has been set up in a manner that
requires adjustable dimensioning of local (non-argument) arrays in subroutine
<i>driver</i>
and a few other routines in RIP, and in subroutine <i>process</i> in RIPDP.
In other words, in subroutine <i>driver</i>, for example, several arrays
that are <i>not</i> in the subroutine argument list are dimensioned with
integer variables that <u>are</u> in the argument list. This is technically
illegal in Fortran 77, but many compilers support it because it makes dynamic
memory allocation possible. It
<u>is</u> standard in Fortran 90. Therefore,
if you donut have a Fortran 90 compiler, or your Fortran 77 compiler doesn't
support adjustable dimensioning of local (non-argument) arrays, you will
(unfortunately) have to make some minor changes to subroutines <i>driver,
qgomg, </i>and<i> saweli</i> in RIP, and <i>process</i> in RIPDP, and recompile
RIPDP and RIP (i.e. re-run <i>make</i>) for each different size domain
that you analyze. See the instructions at the top of subroutine <i>process</i>
in RIPDP, and at the top of subroutine <i>driver</i> in RIP, if you need
to do this.</li>

<li>
Versions 2 and 3 of RIP use Cray pointers. This is nonstandard Fortran
77, but is supported by most Fortran 77 and Fortran 90 compilers.</li>
</ul>
<a NAME="ripdp"></a><b>3. Preparing data with RIPDP</b>
<p>RIP does not read MM4/MM5 system data files directly. First, a preprocessing
step must be executed that converts the modeling system data files to RIP-format
data files. The primary difference between these two types of files is
that modeling system data files contain all times and all variables in
a single file (or a few files), whereas RIP data has every variable at
every time in a separate file. The preprocessing step involves use of the
program RIPDP (which stands for <u>RIP</u> <u>D</u>ata <u>P</u>reparation).
RIPDP reads in an MM4/MM5 data file (or files), and separates out each
variable at each time. There are several basic variables that RIPDP expects
to find, and these are written out with names that are chosen by RIPDP
(such as <i>uuu</i>, <i>vvv</i>,
<i>prs</i>, etc.). These are the variable
names that RIP users are familiar with. However, in Version 3, RIPDP can
also process unexpected variables that it encounters in MM5 data files,
creating RIP data file names for these variables from the variable name
that is stored in the MM5 file header.
<p>When the you run <i>make</i>, it should produce an executable program
called
<i>ripdp</i>.
<p><i>a. Running RIPDP</i>
<p>The program has the following usage:
<p><font face="Courier New,Courier">ripdp [-n <u>namelist-file</u>]
<u>model-data-set-name</u>&nbsp;<u>data-file-1</u>&nbsp;<u>data-file-2</u>&nbsp;<u>data-file-3</u> ...</font>
<p>The argument <u>model-data-set-name</u> can be any string you choose,
that uniquely defines this model output or input data set. It will be used
in the file names of all the new RIP data files that are created.
<u>data-file-1</u>,
<u>data-file-2</u>,
... are the path names (either full or relative to the current working
directory) of the model data set files, in chronological order. When the
program is finished, a large number of files will have been created that
will reside in the current working directory. This is the RIP data that
will be accessed by RIP to produce plots.
<p>To provide more user control over the processing of the data, a namelist
can be specified by means of the "-n" option, with <u>namelist-file</u>
specifying the path name of the file containing the namelist. Namelists
are a special type of Fortran input structure that is described in <a href="#namelists">section
2</a>.
<p>The namelist file for ripdp should contain the namelist <i>&amp;userin</i>.
An example of a namelist input file for ripdp, called <i>ripdp_sample.in</i>,
is provided in the RIP tar file. The <i>&amp;userin</i> namelist in that
file is shown below, followed by a description of the variables it sets.
Each variable has a default value (shown in parentheses), which is the
value this variable will take if its specification is omitted from the
namelist.
<p><font face="Courier New,Courier">&amp;userin</font>
<br><font face="Courier New,Courier">ptimes=0,-72,1, ptimeunits='h', tacc=90.,
discard='LANDMASK','H2SO4', iexpandedout=1</font>
<br><font face="Courier New,Courier">&amp;end</font>
<ul>
<li>
<i>ptimes</i> (real array, def.=9.0E+09),<i> ptimeunits</i> (character
variable, def.='h'): <i>ptimes</i> specifies the desired times for ripdp
to process. A value of 9.0E+09 indicates to RIPDP that you are using
<i>iptimes</i>
(see below) instead of <i>ptimes</i> to specify desired times. You can
specify particular times to be processed, separated by commas. The units
are determined by the value of <i>ptimeunits</i>, which can be either 'h'
(for hours), 'm' (for minutes), or 's' (for seconds). You can also specify
a series of times in the form <i>A,-B,C</i>, which is interpreted as "times
from hour <i>A</i> to hour <i>B</i>, every
<i>C</i> hours" (assuming <i>ptimeunits</i>='h').
Thus, in the example above, you want RIPDP to process times from hour 0
through hour 72, every hour (assuming they are encountered in the data).
Individual times can be intermixed with series specifications. Thus,
<font face="Courier New,Courier">ptimes=0,1,3,-18,3,24</font>
would cause RIPDP to process data at hours 0,1,3,6,9,12,15,18, and 24 (assuming
those times are encountered).</li>

<li>
<i>iptimes</i> (not shown in the above example, integer array, def.=99999999):
This is an integer array that also specifies desired times for RIPDP to
process, but in the form of 8-digit "mdate" times (i.e. YYMMDDHH). A value
of 99999999 indicates to RIPDP that you are using <i>ptimes</i> (see above)
instead of <i>iptimes</i> to specify desired times. Either one or the other
of <i>ptimes</i> or <i>iptimes</i> can be used, but not both. <i>ptimeunits</i>
has no effect on the meaning of the values given for
<i>iptimes.</i> <i>iptimes</i>
can also include series specifications. For example, <font face="Courier New,Courier">iptimes=99063012,99063018,-99070103,3,99070112</font>
would cause RIPDP to process data at times 99063012, 99063018, 99063021,
99070100, 99070103, and 99070112.</li>

<ul>&nbsp;
<br>Note: If you want RIPDP to simply process all times encountered, you
can indicate this in one of several ways. If both <i>ptimes</i> and
<i>iptimes</i>
are omitted from the namelist (and thus retain their default values) or
are both assigned their default values, RIPDP will process all encountered
times. Or, if the first (or only) value of either
<i>ptimes</i> or <i>iptimes</i>
is negative, RIPDP will process all encountered times.</ul>

<li>
<i>tacc</i> (real variable, def.=1.0): This specifies a time tolerance,
in seconds, for the values assigned to <i>ptimes</i> or <i>iptimes</i>.
In other words, any times encountered in the model output that are within
<i>tacc</i>
seconds of one of the times specified in <i>ptimes</i> or <i>iptimes</i>
will be processed.</li>

<li>
<i>discard</i> (character array, def.=' '): This specifies the names of
variables that, if encountered in the MM5 data file, will not be processed.
The default value (blank) implies that all encountered fields should be
processed. Do not discard any of the basic variables, such as temperature,
winds, water vapor, pressure perturbation, etc. If you do, you will run
into trouble when you attempt to run RIP with your data set.&nbsp; It is
also important to note that the names assigned to the <i>discard</i> variable
are compared against the names in the MM5 header. Therefore, you should
be careful to assign names to <i>discard</i> as they appear in the MM5
output file header, NOT as they appear at the ends of the the names of
the RIP data files. One thing to be particularly careful about is the use
of blanks versus underscores. Variable names in the MM5 output file header
can contain blanks. When RIP uses these names to build RIP data file names
for unexpected variables, it converts blanks to underscores. For example,
the MM5 output variable "SOIL T 6" at hour 12 will result in the creation
of a RIP data file called something like <i>mycase_012.00000_SOIL_T_6</i>.
If you want to discard "SOIL T 6", you should use <i>discard='SOIL T 6'</i>,
not <i>discard='SOIL_T_6'</i>.</li>

<li>
<i>iexpandedout</i> (integer variable, def.=0): This integer flag is relevant
only to TERRAIN or REGRID output in the MM5V3 system. If the output from
one of these two programs is on an expanded domain,
<i>iexpandedout</i>
determines whether the expanded domain will be processed (1) or the standard
(unexpanded) domain will be processed (0).</li>
</ul>
Note: With some compilers such as Sun's Fortran 90, when assigning values
to an array in a namelist, each array element must be separately referenced
with its index in parentheses.&nbsp; This would apply to the <i>ptimes</i>,
<i>iptimes</i>,
and <i>discard</i> arrays described above.&nbsp; Thus, in this situation,
the above namelist would appear as
<p><font face="Courier New,Courier">&amp;userin</font>
<br><font face="Courier New,Courier">ptimes(1)=0,ptimes(2)=-72,ptimes(3)=1,
ptimeunits='h', tacc=90., discard(1)='LANDMASK',discard(2)='H2SO4', iexpandedout=1</font>
<br><font face="Courier New,Courier">&amp;end</font>
<p><a NAME="uif"></a><b>4. The RIP user input file</b>
<p>Once the RIP data has been created with RIPDP, the next step is to prepare
the user input file (UIF) for RIP. This file is a text file which tells
RIP what plots you want and how they should be plotted. A sample UIF, called
<i>rip_sample.in</i>,
is provided in the RIP tar file. This sample can serve as a template for
the many UIFs that you will eventually create.
<p>A UIF is divided into two main sections. The first section specifies
various general parameters about the set up of RIP, in a namelist format.
The second section is the plot specification section, which is used to
specify what plots will be generated.
<p><i>a. The namelist section</i>
<p>Namelists are a special type of Fortran input structure that is described
in <a href="#namelists">section 2</a>. The first namelist in the UIF is
called
<i>&amp;userin</i>. An example of a
<i>&amp;userin</i> namelist
for RIP, which is also found in the sample UIF <i>rip_sample.in</i>, is
shown below, followed by a description of the variables contains. Each
variable has a default value (shown in parentheses), which is the value
this variable will take if its specification is omitted from the namelist.
<p><font face="Courier New,Courier">&amp;userin</font>
<br><font face="Courier New,Courier">idotitle=1,titlecolor='def.foreground',</font>
<br><font face="Courier New,Courier">ptimes=0,6,12,</font>
<br><font face="Courier New,Courier">ptimeunits='h',tacc=120,timezone=-7,iusdaylightrule=1,</font>
<br><font face="Courier New,Courier">iinittime=1,ivalidtime=1,inearesth=0,</font>
<br><font face="Courier New,Courier">flmin=.09, frmax=.92, fbmin=.10, ftmax=.85,</font>
<br><font face="Courier New,Courier">ntextq=0,ntextcd=0,fcoffset=0.0,idotser=0,</font>
<br><font face="Courier New,Courier">idescriptive=1,icgmsplit=0,maxfld=10,itrajcalc=0,imakev5d=0</font>
<br><font face="Courier New,Courier">&amp;end</font>
<p><u>Some background on the RIP frame title lines</u>: The standard title
at the top of the RIP frame has two lines. The first shows the data set
name (i.e., the root part of the RIP data file names for the data set being
plotted), the UIF file name (excluding the <i>.in</i> extension), and a
time whose meaning depends on the type of data being plotted. For TERRAIN
data, no time is shown; for pressure-level analysis or sigma-level initial
condition data, the valid time is shown; for model output data, the initial
time is shown. The second line is only displayed for model output. It shows
the forecast hour, and the valid time in both UTC and local time.
<ul>
<li>
<i>idotitle</i> (integer variable, def.=1) and <i>title</i> (not shown
above, character variable, def.= 'auto'): These control the first part
of the first title line. If <i>idotitle</i>=1 and <i>title</i>='auto',
you'll get the automatically generated information (data set and UIF names)
as described above. If <i>idotitle</i>=0, the first part of the first title
line will be left blank. If you set <i>title</i> to something else, that
string will get used for the first part of the first title line.</li>

<li>
<i>titlecolor</i> (character variable, def.='def.foreground'): This specifies
the color to use for the text in the title line(s). It should be chosen
from the available colors listed in the utility file <i>color.tbl</i>,
described in <a href="#colortable">section 2</a>.</li>

<li>
<i>iinittime</i> (integer variable, def.=1): This flag controls the second
part of the first title line. If set to 0, you won't get the model initial
time on the right side of the first title line (or the valid time for analysis
or initial condition data).</li>

<li>
<i>ivalidtime</i> (integer variable, def.=1): This flag controls the second
line of the title (which is only plotted for model output). If set to 0,
the entire second line will not be plotted.</li>

<li>
<i>inearsth</i> (integer, def.=0): This flag allows you to have the hour
portion of the initial and valid time be specified with two digits, rounded
to the nearest hour, rather than the standard 4-digit HHMM specification.</li>

<li>
<i>timezone</i> (real variable, def: -7.0): This specifies the offset from
Greenwich time (UTC) for the local time zone, and is required for the correct
display of local time specification of the valid time. RIP will recognize
familiar time zones of N. America (-8,-7,-6,-5) and show, for example,
"MST" or "EDT". For unfamiliar time zones, it will show "LST" or "LDT".</li>

<li>
<i>iusdaylightrule</i> (integer variable, def.=1): This flag determines
whether the U.S. daylight saving rule (i.e., daylight saving in effect
between 1st Sunday in April and last Sunday in October) should be applied
(1) or not (0) in displaying the local time specification of valid time.</li>

<li>
<i>ptimes</i> (real array, def.=9.0E+09),<i> ptimeunits</i> (character
variable, def.='h'): <i>ptimes</i> specifies the desired times for RIP
to plot. A value of 9.0E+09 indicates to RIP that you are using <i>iptimes</i>
(see below) instead of <i>ptimes</i> to specify desired times. You can
specify particular times to be plotted, separated by commas. The units
are determined by the value of <i>ptimeunits</i>, which can be either 'h'
(for hours), 'm' (for minutes), or 's' (for seconds). You can also specify
a series of times in the form <i>A,-B,C</i>, which is interpreted as "times
from hour <i>A</i> to hour <i>B</i>, every
<i>C</i> hours" (assuming <i>ptimeunits</i>='h').
Individual times can be intermixed with series specifications. Thus,
<font face="Courier New,Courier">ptimes=0,1,3,-18,3,24</font>
would cause RIP to plot data at hours 0,1,3,6,9,12,15,18, and 24 (assuming
those times are available).</li>

<li>
<i>iptimes</i> (not shown in the above example, integer array, def.=99999999):
This is an integer array that also specifies desired times for RIP to plot,
but in the form of 8-digit "mdate" times (i.e. YYMMDDHH). A value of 99999999
indicates to RIP that you are using <i>ptimes</i> (see above) instead of
<i>iptimes</i>
to specify desired times. Either one or the other of <i>ptimes</i> or <i>iptimes</i>
can be used, but not both.
<i>ptimeunits</i> has no effect on the meaning
of the values given for
<i>iptimes. iptimes</i> can also include series
specifications. For example,
<font face="Courier New,Courier">iptimes=99063012,99063018,-99070103,3,99070112</font>
would cause RIP to plot data at times 99063012, 99063018, 99063021, 99070100,
99070103, and 99070112.</li>

<ul>Note: If you want RIP to simply plot all times available, you can indicate
this in one of several ways. If both <i>ptimes</i> and <i>iptimes</i> are
omitted from the namelist (and thus retain their default values) or are
both assigned their default values, RIP will plot all available times.
Or, if the first (or only) value of either <i>ptimes</i> or <i>iptimes</i>
is negative, RIP will plot all available times.</ul>

<li>
<i>tacc</i> (real variable, def.=1.0): This specifies a time tolerance,
in seconds, for the values assigned to <i>ptimes</i> or <i>iptimes</i>.
In other words, any available times in the data that are within
<i>tacc</i>
seconds of one of the times specified in <i>ptimes</i> or <i>iptimes</i>
will be plotted. This value should be increased if, for example, your "hourly"
output is not exactly on the hour. It should be decreased if you have saved
consecutive time steps and need to pin point one of those time steps.</li>

<li>
<i>flmin, frmax, fbmin</i>, and <i>ftmax</i> (real variables, def.=.05,.95,.10,.90,
respectively): These specify the left frame limit, the right frame limit,
the bottom frame limit, and the top frame limit, respectively. The size
of all plots will be adjusted to be the maximum that can fit in this box.
The box is defined in terms of the fractional coordinate system, i.e. all
four values should be between 0.0 and 1.0</li>

<li>
<i>ntextq</i> (integer variable, def.=0): This is the text quality specifier
( 0=high; 1=medium; 2=low ).</li>

<li>
<i>ntextcd</i> (integer variable, def.=0): This is the text font specifier
[ 0=complex (Times); 1=duplex (Helvetica) ].</li>

<ol>&nbsp;
<br>Notes on ntextq and ntextcd:
<ol>
<li>
<i>ntextcd</i> only applies to high quality characters.</li>

<li>
Low and medium quality characters look identical except that the medium
quality zero is unslashed.</li>

<li>
Medium quality characters are drawn with polylines so their size is independent
of the local translator being used. The same is not true of low quality
characters, which use the GKS primitive character set, whose size can vary
from one system to another.</li>

<li>
Any messages that involve units will always use high quality, in order
to make use of superscripting for exponents.</li>
</ol>
</ol>

<li>
<i>fcoffset</i> (real variable, def.=0.0): This is an optional parameter
you can use to "tell" RIP that you consider the start of the forecast to
be different from what is indicated by the forecast time recorded in the
model output. It serves the same purpose as the now defunct <i>mdatebf</i>,
but is specified as a relative time (in hours, + or -) rather than an absolute
YYMMDDHH format, so it is more useful for automated real-time applications.
A non-zero <i>fcoffset</i> causes RIP to adjust the displayed initial and
forecast times to match what you consider to be the beginning of the forecast.
Examples: <i>fcoffset</i>=12 means you consider hour 12 in the model output
to be the beginning of the true forecast (you might use this for a run
with a 12-h dynamic initialization period); <i>fcoffset</i>=-12 means you
consider model output time 0 to be the true forecast hour 12 (you might
use this if a high-resolution domain is initialized from the hour-12 output
from a low-resolution domain).</li>

<li>
<i>idotser</i> (integer variable, def.=0): This flag means "do time series".
By setting this flag to "1", you can print out time series of any RIP variable
at any station location in the model domain.  In order to do this, you must
also do two other things.  First, you must create a simple text file with a
list of ICAO (four-character) identifiers for the desired stations, one per
line.  The file must be called <i>tserstn.dat</i> and should reside in your
current working directory.  A sample version of this file is provided in the
RIP tar file.  Then, you must request plots of the desired fields using the
plot specification table.  Any field for which <i>ptyp=hc</i> is specified will
be included in the time series that is created.  You can plot all the fields in
one frame or in separate frames.  You can request any of the RIP vertical
coordinates, and multiple levels, just as you would if you were generating
plots.  In fact, when you run RIP, it will generate the plots asked for, but in
addition, it will create an ascii file with time series data at the requested
stations for any fields that were plotted with <i>ptyp=hc</i>.  The name of the
ascii file that is created will be <i><u>rip-execution-name</u>.tser.</i>
</li>

<li>
<i>idescriptive</i> (integer variable, def.=1): This flag can be set to
1 to turn on the printing of more descriptive plot titles instead of the
traditional, more cryptic and technical titles.</li>

<li>
<i>icgmsplit</i> (integer variable, def.=0): Setting this to 1 causes each
time level of plots to be in a separate metacode file. A value of 0 causes
all times to be in a single metacode file.</li>

<li>
<i>maxfld</i> (integer variable, def.=10): This is a parameter that is
used to reserve memory for RIP. It is typically set between 10 and 15,
depending on how much scratch space is needed to calculate some diagnostic
fields, and how many fields are plotted in a single frame. If it is set
too low, RIP will simply tell you to increase it and re-run the program.</li>

<li>
<i>itrajcalc</i> (integer variable, def.=0): This is a switch which turns
on (1) or off (0) trajectory calculation mode. Whenever you are making
plots (even trajectory plots), it should be zero. It should only be set
to 1 when you are <u>calculating</u> trajectories. See <a href="#traj">section
7</a> for more details.</li>

<li>
<i>imakev5d</i> (integer variable, def.=0): This is a switch which turns
on (1) or off (0) the Vis5D data set creation mode. Whenever you are making
plots, it should be zero. It should only be set to 1 when you are producing
Vis5D data. See <a href="#v5d">section 8</a> for more details.</li>

<li>
<a NAME="rip_root"></a><i>rip_root</i> (not shown in above example, character
variable, def.='/dev/null'): If for some reason RIP cannot access the path
name that is stored in your UNIX environment variable RIP_ROOT (specifying
where your RIP utility files are located), or you want to over-ride the
path name specified in RIP_ROOT for a particular execution of RIP, you
can specify a path name in the variable
<i>rip_root</i> in the <i>&amp;userin</i>
namelist in your UIF. The default value of '/dev/null' causes RIP to try
to access the path name from the environment variable RIP_ROOT, instead
of trying to over-ride it.</li>
</ul>
Note: With some compilers such as Sun's Fortran 90, when assigning values
to an array in a namelist, each array element must be separately referenced
with its index in parentheses.&nbsp; This would apply to the <i>ptimes</i>
and <i>iptimes</i> arrays described above.&nbsp; Thus, in this situation,
the specification of <i>ptimes</i> in the above sample <i>&amp;userin</i>
namelist would appear as
<p><font face="Courier New,Courier">ptimes(1)=0,ptimes(2)=6,ptimes(3)=12,</font>
<p>The second namelist in the UIF is called <i>&amp;trajcalc</i>. This
section is ignored by RIP if <i>itrajcalc=</i>0. Trajectory calculation
mode and use of the <i>&amp;trajcalc</i> namelist are described in <a href="#traj">section
7</a>.
<p><i>b. The plot specification table</i>
<p>The plot specification table (PST) provides all of the user control
over particular aspects of individual frames and overlays. The basic structure
of the PST is as follows. The first line of the PST is a line of consecutive
equal signs. This line, as well as the next two lines, are ignored–they
are simply a banner that says that this is the PST. After that are several
groups of one or more lines separated by a full line of equal signs. Each
group of lines is a frame specification group (FSG), because it describes
what will appear in a frame. A frame is defined as one frame of metacode.
Each FSG must be ended with a full line of equal signs–that is how RIP
knows that it has reached the end of the FSG. (Actually, RIP only looks
for four consecutive equal signs, but the equal signs are continued to
the end of the line for cosmetic purposes.) Each line within the FSG is
a plot specification line (PSL), because it describes what will appear
in a plot. A plot is defined as one call to a major plotting routine (e.g.
a contour plot, a vector plot, a map background, etc.). Hence, a FSG that
has three PSLs in it will result in a frame that has three overlaid plots.
<p>Each PSL contains several plot specification settings (PSSs), of the
form
<p><i>keyword = value [,value,value</i>,...]
<p>where <i>keyword</i> is a 4-character code word that refers to a specific
aspect of the plot. Some keywords need one value, some need two, and some
need an arbitrary number of values. Keywords that require more than one
value should have those values separated by commas. All the PSSs within
a PSL must be separated by semicolons, but the final PSS in a PSL must
have no semicolon after it–this is how RIP identifies the end of the PSL.
Any amount of white space (i.e., blanks or tabs) is allowed anywhere in
a PSS or PSL, because all white space will be removed after the line is
read into RIP. The use of white space can help make your PST more readable.
The order of the PSSs in a PSL does not matter, though the common convention
is to first specify the <i>feld</i> keyword, then the <i>ptyp</i> keyword,
and then other keywords in no particular order. A PSL may be as long as
240 characters, including spaces. However, if you want to keep all your
text within the width of your computer screen, then a "greater than" symbol
(>) at the end of the line can be used to indicate that the PSL will continue
onto the next line. You may continue to the next line as many times as
you want for a PSL, but the total length of the PSL, including spaces,
cannot exceed 240 characters.
<p>Any line in the PST can be commented out, simply by putting a pound
sign (#) anywhere in the line (at the beginning makes the most sense).
Note that the pound sign only comments out the line, which is not necessarily
the same as the PSL. If the PSL is continued onto another line, both lines
must be commented out in order to comment out the entire PSL. A partial
PSL will likely cause a painful error in RIP. If all the PSLs in a FSG
are commented out, then the line of equal signs at the end of the FSG should
also be commented out.
<p>Each keyword has associated with it a variable in the program, and this
variable may be integer, real, character, or logical. It also may be an
array. The keywords that are associated with a real variable expect values
that are of Fortran floating point format. All of the following are examples
of valid values:
<p><font face="Courier New,Courier">1, 2, 1., 2., 1.23, 34565, -1e-13,
-1.01e+16, 6.52349, -5</font>
<p>The keywords that are associated with an integer variable also expect
values that are of Fortran floating point format. That is because they
are initially read in as a floating point number, and then rounded (not
truncated) to the nearest integer. Hence, all of the above examples of
numbers would also be valid for keywords that are associated with an integer
variable (except the 8th number, which would be out of range for a 32-bit
integer). The fifth and ninth values would be rounded to 1 and 7, respectively.
<p>The keywords that are associated with a character variable expect values
that are character strings. They should NOT be in single quotes, and should
also not have any blank characters, commas, or semicolons in them.
<p>The keywords that are associated with a logical variable should not
have any value. They are set as .FALSE. by default, and simply the fact
that the keyword appears will cause the associated variable to be set to
.TRUE..
<p>The keywords that are associated with an array (of any type) may expect
more than one value. In this case, the values should be separated by commas,
as mentioned above.
<p>As an example, here is a typical PSL:
<p><font face="Courier New,Courier">feld= uuu,vvv; ptyp=hv;vcor =p; levs=1000.,850,700,
500.; vmax=15; colr=></font>
<br><font face="Courier New,Courier">sky.blue; nmsg; smth= 4</font>
<p>In this example, <i>feld</i> is a keyword that has two character values,
<i>ptyp</i>
has one character value, <i>vcor</i> has one character value,
<i>levs</i>
has four real values, <i>vmax</i> has one real value, <i>colr</i> has one
character value, <i>nmsg</i> is a logical flag that will cause the associated
logical variable to be set to <i>.true.</i>, and <i>smth</i> has one integer
value. Note the continuation character (>) at the end of the first line,
indicating that the PSL continues onto the next line. There should be no
semicolon at the end of the last PSS. Also in this example, a somewhat
sloppy placement of blank spaces was purposefully done to demonstrate that
blanks or tabs can be harmlessly placed anywhere in the PSL.
<p>All the keywords are set to a default value prior to the reading of
the plot specification table. With regard to the default setting of keywords,
there are two basic types of keywords: those that "remember" their values,
and those that "forget" their values. The type that remembers its value
(which will subsequently be referred to as type <i>R</i>) is set to its
default value only at the outset, and then it simply retains its value
from one PSL to the next (and even from one FSG to the next) unless it
is explicitly changed by a PSS. The type that forgets its value (which
will subsequently be referred to as type <i>F</i>) is reset to its default
value after every PSL. Type <i>R</i> keywords are primarily those that
deal with location (e.g. the subdomain for horizontal plots, the vertical
coordinate and levels for horizontal plots, cross section end points, etc.).
<p>This section has described the basic rules to follow in creating the
PST. <a href="#keyw">Appendix A</a> provides a description of all of the
available keywords, in alphabetical order.
<p><a NAME="runrip"></a><b>5. Running RIP</b>
<p>Each execution of RIP requires three basic things: a RIP executable,
a model data set and a user input file (UIF). Assuming you have followed
the procedures outlined in the previous sections, you should have all of
these. The UIF should have a name of the form <i><u>rip-execution-name</u>.in</i>,
where <u>rip-execution-name</u> is a name that uniquely defines the UIF
and the set of plots it will generate. The syntax for the executable, <i>rip</i>,
is as follows:
<p><font face="Courier New,Courier">rip [-f] <u>model-data-set-name</u>&nbsp;<u>rip-execution-name</u></font>
<p>In the above, <u>model-data-set-name</u> is the same <u>model-data-set-name</u>
that was used in creating the RIP data set with the program <i>ripdp</i>.
<u>model-data-set-name</u>
may also include a path name relative to the directory you are working
in, if the data files are not in your present working directory. <u>rip-execution-name</u>
is the unique name for this RIP execution, and it also defines the name
of the UIF that RIP will look for. The intended syntax is to exclude the
".in" extension in
<u>rip-execution-name</u>. However, if you include it
by mistake, RIP will recognize it and proceed without trouble. The <i>–f</i>
option causes the standard output (i.e., the textual print out) from RIP
to be written to a file called <i><u>rip-execution-name</u>.out</i>. Without
the <i>–f</i> option, the standard output is sent to the screen. The standard
output from RIP is a somewhat cryptic sequence of messages that shows what
is happening in the program execution.
<p>As RIP executes, it creates either a single metacode file or a series
of metacode files, depending on whether or not <i>icgmsplit</i> was set
to 0 or 1 in the <i>&amp;userin</i> namelist. If only one file was requested,
the name of that metacode file is <i><u>rip-execution-name</u>.cgm</i>.
If separate files were requested for each plot time, they are named <i><u>rip-execution-name</u>.cgmA,
<u>rip-execution-name</u>.cgmB,
</i>etc.
<p>A common arrangement is to work in a directory that you've set up for
a particular data set, with your UIFs and plot files (".cgm" files) in
that directory, and a subdirectory called <i>data</i> that contains the
large number of RIP data files. So, for example, if your data set was called
"superstorm" and you had an input file called <i>sfcfields.in</i>, you
would invoke RIP in the following manner:
<p><font face="Courier New,Courier">rip data/superstorm sfcfields</font>
<p>RIP prints to information to the screen as it runs, and then after it
has completed execution, you will see a new file in your present working
directory, <i>sfcfields.cgm.</i> This is a metacode file containing the
plots you requested.
<p>You could also have the standard print out sent to the file <i>sfcfields.out</i>
and run RIP in the background:
<p><font face="Courier New,Courier">rip -f data/superstorm sfcfields &amp;</font>
<p>In this case, after RIP has completed execution, you will see two new
files in your present working directory. The file <i>sfcfields.out</i>
contains print out from the RIP execution. The file <i>sfcfields.cgm</i>
is a metacode file containing the plots you requested.
<p>Although the metacode file has a <i>.cgm</i> suffix, it is not a standard
computer graphics metacode (CGM) file. It is an NCAR CGM file that is created
by the NCAR Graphics plotting package. It can be viewed with any of the
standard NCAR CGM translators, such as <i>ctrans</i>, <i>ictrans</i>, or
<i>idt</i>.
<p><a NAME="plev"></a><b>6. Using RIP with pressure-level data sets</b>
<p>RIP is now able to plot data from MM5 front-end programs that output
data on pressure levels (but only for data from MM5 Version 3 or later).
Because the sigma coordinate system is tightly woven into the structure
of the RIP code, it is necessary make the pressure level data "look like"
sigma level data so that RIP can ingest, process, and plot it. This is
accomplished in RIPDP, by defining a pseudo-terrain surface that is equal
to a constant pressure surface near the ground, and defining a hydrostatic
sigma coordinate based on that pseudo-terrain surface. Thus defined, the
sigma levels coincide with pressure levels. Specifically, the pseudo-terrain
surface is taken to be 1 hPa beneath (higher in pressure than) the bottom-most
pressure level in the data (typically 1000 hPa). Similarly, the top pressure
level used in defining the sigma coordinate is taken to be 1 hPa above
(lower in pressure than) the top-most pressure level in the data. The data
levels are then treated as "half sigma" levels, and "full sigma" levels
are defined at levels half-way between each of the half levels.
<p>Because of the use of the pseudo-surface, and because of the different
variables that are generally carried in pressure-level data files, there
are some key differences between RIP variables produced by RIPDP from pressure-level
data and from sigma-level data. There are also some differences in the
way certain fields are plotted in RIP.
<p>A special terrain variable, <i>ter_tsf</i>, is created in order to retain
information about the true surface (as opposed to the pseudo-surface).
The variable <i>ter</i> is still created, but it is the height of the pseudo-ground
surface, which is not very meaningful, since it is a constant pressure
surface. Therefore, with a pressure-level data set, if you request
<i>feld=ter</i>
or <i>feld=ter_tsf</i> in your plot specification table (PST), RIP will
automatically assume you really want to see <i>ter_tsf</i>. You can force
RIP to show you <i>ter</i>, the height of the pseudo-ground surface, by
using <i>feld=ter_pseudo</i>.
<p>A 3D pressure variable, <i>prs</i>, is not created when a pressure-level
data set is processed by RIPDP, because it is a trivial variable that is
dependent only on sigma level. The RIP data variables <i>pstx</i> and
<i>pstd</i>
are constant because <i>p* </i>= <i>p</i><sub><font size=-2>SFC</font></sub>
- <i>p</i><sub><font size=-2>TOP</font></sub> and
<i>p</i><sub><font size=-2>SFC</font></sub>
is constant. However, because these variables are 2D, the associated data
files are created anyway because they take up little disk space. A special
variable unique to pressure-level data sets called <i>prs_tsf</i> is created.
It contains the pressure at the true surface. This is the variable that
gets plotted if <i>feld=sfp</i> is requested in the PST, instead of the
pressure of the pseudo-surface (which is constant). Also, because pressure-level
data sets have a separate analysis of sea-level pressure, a <i>slp</i>
variable is created. If <i>feld=slp</i> is requested in the PST, it is
this variable that is plotted, instead of a reduced SLP that is normally
diagnosed from other model variables.
<p>Because relative humidity (RH) is carried in pressure-level MM5 data
sets instead of mixing ratio, RH is output as a RIP data variable (<i>rhu</i>).
Mixing ratio is derived from RH and is also output as a RIP data variable
(<i>qvp</i>).
<p>Finally, pressure-level data sets have several variables that are available
as 2D surface analyses, and these are output as RIP data files whose names
end with the string "<i>_sfan</i>" (<i>qvp_sfan, rhu_sfan, tmk_sfan, uuu_sfan,</i>
and <i>vvv_sfan</i>). They can be accessed by setting <i>feld</i> equal
to any of the names just listed.&nbsp; Also, if <i>feld=tsfc</i> or <i>feld=tsff</i>
is requested with a pressure-level data set, RIP will read in the <i>tmk_sfan</i>
file and convert it to either <font face="Symbol">&deg;</font>C or <font face="Symbol">&deg;</font>F.
<p><u>Vertical cross sections:</u> Since the pseudo-ground is different
from the true ground, the ground surface that would be shown in a cross
section using the standard RIP method would be an arbitrary and meaningless
surface. Therefore, for pressure-level data, RIP draws a cross-hatched
area over the true ground in vertical cross sections when <i>feld=tic;
ptyp=vb</i> is requested in the PST. This can be suppressed (i.e., only
the pseudo-ground surface shown) with the <i>nogd</i> flag.
<p><u>Vertical intperpolation for horizontal plots:</u> This works the
same as for sigma-level data sets, with one additional feature. For pressure-level
data, if <i>vcor=p</i> is specified, the pressure level "1001" (i.e., setting
<i>levs=1001</i>)
will cause the field to be interpolated to the surface (by interpolating
it to the value of prs_tsf) at each grid point. This allows you to look
at 3D pressure-level fields interpolated to the true surface.
<p><a NAME="traj"></a><b>7. Calculating and plotting trajectories</b>
<p>Because trajectories are a unique feature of RIP and require special
instructions to create, this section is devoted to a general explanation
of the trajectory calculating and plotting utility. RIP deals with trajectories
in two separate steps, each of which requires a separate execution of the
program.
<p><i>a. Trajectory calculation</i>
<p>The first step is trajectory calculation, which is controlled exclusively
through the namelist. No plots are generated in a trajectory calculation
run. In order to run RIP in trajectory calculation mode, the variable <i>itrajcalc</i>
must be set to 1 in the <i>&amp;userin</i> namelist. All other variables
in the <i>&amp;userin</i> part of the namelist are ignored. The
<i>&amp;trajcalc</i>
part of the namelist contains all the information necessary to set up the
trajectory calculation run. The following is a description of the variables
that need to be set in the <i>&amp;trajcalc</i> section:
<ul>
<li>
<i>rtim</i>: the release time (in forecast hours) for the trajectories.</li>

<li>
<i>ctim</i>: the completion time (in forecast hours) for the trajectories.</li>
</ul>

<dir>
<dir>
<dir>Note: the direction of the trajectory calculation (forward or backward)
is determined by <i>rtim</i> and <i>ctim</i>. If <i>rtim</i>&lt;<i>ctim</i>,
trajectories are forward. If <i>rtim</i>><i>ctim</i>, trajectories are
backward.</dir>
</dir>
</dir>

<ul>
<li>
<i>dtfile</i>: the time increment (in seconds) between data files.</li>

<li>
<i>dttraj</i>: the time step (in seconds) for trajectory calculation. If
this is set to a smaller value than <i>dtfile</i>, then velocity data are
linearly interpolated in time to the trajectory time steps. Believe it
or not, this actually does improve the accuracy of the trajectories. For
hourly data, a ten minute (600 s) trajectory time step is often used.</li>

<li>
<i>vctraj</i>: the vertical coordinate of values specified for <i>zktraj</i>.
<i>vctraj</i>
is specified as a single character in single quotes:</li>
</ul>

<dir>
<dir>
<dir>‘s’: <i>zktraj</i> values are sigma values (dimensionless)
<br>‘p’: <i>zktraj</i> values are pressure values, in mb
<br>‘z’: <i>zktraj</i> values are height values, in km
<br>‘t’: <i>zktraj</i> values are potential temperature values, in K
<br>‘e’: <i>zktraj</i> values are equivalent potential temperature values,
in K</dir>
</dir>
</dir>

<ul>
<li>
<i>ihydrometeor</i>: a flag which, if set to 1, causes the trajectory calculation
algorithm to use the hydrometeor fall speed (an average fall speed weighted
by the mixing ratios of the different precipitation types) instead of the
vertical air velocity. The purpose of this flag is to produce hydrometeor
trajectories instead of air parcel trajectories.</li>

<li>
<i>xjtraj</i>,<i>yitraj</i>: real arrays containing <i>x</i> and <i>y</i>
values (in grid points) of the initial positions of the trajectories. The
grid values can be non-integer values, and should be relative to the grid
position at the trajectory release time (this is important for trajectories
in moving nests).</li>

<li>
<i>zktraj</i>: real array containing values of the vertical location of
the initial points of the trajectories. The type of value used (e.g. pressure,
height, etc.) must be consistent with <i>vctraj</i>. If <i>vctraj</i> is
‘<i>s</i>’, then the values can be specified either as <font face="Symbol">s</font>
values (numbers between 0 and 1) or as <i>k</i> indices (integers greater
than or equal to 1).</li>
</ul>
If no diagnostic quantities along the trajectories are desired, the plot
specification table is left blank (except that the first three lines comprising
the "Plot Specification Table" banner are retained). If diagnostic quantities
are desired, they can be requested in the plot specification table (although
no plots will be produced by these specifications, since you are running
RIP in trajectory calculation mode). Since no plots are produced, only
a minimum of information is necessary in the plot specification table.
In most cases, only the <i>feld</i> keyword needs to be set. For some fields,
other keywords that affect the calculation of the field should be set (such
as <i>strm</i>, <i>rfst</i>, <i>crag</i>, <i>crbg</i>, <i>shrd</i>,
<i>grad</i>,
<i>gdir</i>,
<i>qgsm</i>,
<i>smcp</i>,
and <i>addf</i>). Keywords that only affect how and where the field is
plotted can be omitted. Any of the diagnostic quantities listed in <a href="#fields">Appendix
B</a> can be calculated along trajectories, with the exception of the Sawyer-Eliassen
diagnostics. Each desired diagnostic quantity should be specified in its
own frame specification group (FSG) (i.e. only one <i>feld</i>= setting
between each line of repeated equal signs). The only exception to this
is if you are using the <i>addf
</i>keyword. In that case, all of the plot
specification lines (PSLs) corresponding to the fields being added (or
subtracted) should be in one FSG. As a simple example, if you want to calculate
cloud water mixing ratio, pressure, omega, and relative humidity along
your trajectories, your plot specification table would look like this:
<p><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">---------------- Plot Specification
Table ------------------</font>
<br><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">feld=qcl</font>
<br><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">feld=prs</font>
<br><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">feld=omg</font>
<br><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">feld=rhu</font>
<br><font face="Courier New,Courier">============================================================</font>
<p>Once the input file is set up, RIP is run as outlined in <a href="#runrip">section
5</a>. Since no plots are generated when RIP is run in trajectory calculation
mode, no <i><u>rip-execution-name</u>.cgm</i> file is created. (<i><u>rip-execution-name</u></i>
is the unique name you've chosen for a particular execution of RIP. See
<a href="#runrip">section
5</a>). However, two new files are created that are not in a regular (non-trajectory-calculation)
execution of RIP. The first is a file that contains the positions of all
the requested trajectories at all the trajectory time steps, called <i><u>rip-execution-name</u>.traj.</i>
The second is a file that contains requested diagnostic quantities along
the trajectories at all data times during the trajectory period, called
<i><u>rip-execution-name</u>.diag</i>.
The <i>.diag</i> file is only created if diagnostic fields were requested
in the plot specification table.
<p><i>b. Trajectory plotting</i>
<p>Once the trajectories have been calculated, they can be plotted in subsequent
RIP executions. Because the plotting of trajectories is performed with
a different execution of RIP than the trajectory calculation, the plotting
run should have a different <u>rip-execution-name</u> than any previous
trajectory calculation runs.
<p>Trajectories are plotted by including an appropriate PSL in the PST.
There are three keywords that are necessary to plot trajectories, and several
optional keywords. The necessary keywords are <i>feld</i>, <i>ptyp</i>,
and <i>tjfl</i>. <i>feld</i> should be set to one of four possibilities:
<i>arrow</i>,
<i>ribbon</i>,
<i>swarm</i>,
or <i>circle</i> (these fields are described in detail below). <i>ptyp</i>
should be set to either <i>ht</i> (for "horizontal trajectory plot") or
<i>vt</i>
(for "vertical (cross section) trajectory plot"). <i>tjfl</i> tells RIP
which trajectory position file you want to access for the trajectory plot.
<p>As mentioned above, there are four different representations of trajectories,
as specified by the <i>feld</i> keyword:
<ul>
<li>
<b><i>feld=arrow</i></b>: This representation shows trajectories as curved
arrows, with arrowheads drawn along each trajectory at a specified time
interval. If the plot is a horizontal plot (<i>ptyp=ht</i>), the width
of each arrowhead is proportional to the height of the trajectory at that
time. The arrowhead that corresponds to the time of the plot is boldened.</li>

<li>
<b><i>feld=ribbon</i></b>: This representation shows trajectories as curved
ribbons, with arrowheads drawn along each trajectory at a specified time
interval. If the plot is a horizontal plot (<i>ptyp=ht</i>), the width
of each arrowhead, and the width of the ribbon, is proportional to the
height of the trajectory at that time. The arrowhead that corresponds to
the time of the plot is boldened.</li>

<li>
<b><i>feld=swarm</i></b>: This representation shows a group of trajectories
attached to each other by straight lines at specified times. The trajectories
are connected to each other in the same order at each time they are plotted,
so that the time evolution of a material curve can be depicted. The order
of attachment is the same as the order in which the trajectories' initial
positions were specified. To make a closed polygon of trajectories, the
first and last trajectory must have the same exact starting position.</li>

<li>
<b><i>feld=circle</i></b>: This representation shows the trajectories as
circles located at the final positions of the trajectories, in which the
diameter of the circles is proportional to the net ascent of the trajectories
during the specified time interval. It is only available as a horizontal
trajectory plot (<i>ptyp=ht</i>).</li>
</ul>
The optional keywords that affect trajectory plots are listed below. The
functionality of some of these keywords may depend on what type of trajectory
representation (as specified by the <i>feld</i> keyword) you are using.
See <a href="#keyw">Appendix A</a>, "Keywords", for more details.
<p><b><i>colr</i></b> and <b><i>cong</i></b>: Color of trajectories.
<p><b><i>dang</i></b> and <b><i>dash</i></b>: Dash pattern of trajectories.
<p><b><i>lchl</i></b>: Label color for storm position (for storm-relative
trajectories).
<p><b><i>lcll</i></b>: Label color for trajectory labels.
<p><b><i>linw</i></b> and <b><i>lwng</i></b>: Line width for trajectories.
<p><b><i>nmsg</i></b>: No trajectory height legend.
<p><b><i>nohl</i></b>: No storm position marker (for storm-relative trajectories).
<p><b><i>nolb</i></b>: No trajectory labels.
<p><b><i>strm</i></b>: Storm velocity (for storm-relative trajectories).
<p><b><i>tjar</i></b>: Arrow widths for trajectories.
<p><b><i>tjen</i></b>: End time (in forecast hour) of plotted trajectories.
<p><b><i>tjfl</i></b>: File name of trajectory position info.
<p><b><i>tjid</i></b>: ID numbers of trajectories to be plotted.
<p><b><i>tjsp</i></b>: Storm position for storm-relative trajectories.
<p><b><i>tjst</i></b>: Start time (in forecast hour) of plotted trajectories.
<p><b><i>tjti</i></b>: Time interval for plotted trajectories, in hours.
<p><b><i>tshl</i></b>: Text size for storm position marker (for storm-relative
trajectories).
<p><b><i>tslb</i></b>: Text size for trajectory labels
<p><b><i>vcor</i></b>: Vertical coordinate for trajectory height legend
(for <i>ptyp=ht</i>).
<p><b><i>vwin</i></b>: Vertical window for trajectory height legend (for
<i>ptyp=ht</i>).
<p>A simple example of an FSG that includes a trajectory plot follows:
<p><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">---------------- Plot Specification
Table ------------------</font>
<br><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">feld=the; ptyp=hc; vcor=p; levs=850;
cint=2</font>
<br><font face="Courier New,Courier">feld=arrow; ptyp=ht; tjfl=tjcalc3.traj;
tjid=3,-12,3; vcor=z;></font>
<br><font face="Courier New,Courier">&nbsp&nbsp&nbsp
    colr=green; tjst=12; tjen=18</font>
<br><font face="Courier New,Courier">feld=map; ptyp=hb</font>
<br><font face="Courier New,Courier">feld=tic; ptyp=hb</font>
<br><font face="Courier New,Courier">============================================================</font>
<p>In the above, the first line specifies that potential temperature contours
at 850 mb will be plotted. The second line specifies that "arrow-type"
trajectories will be plotted. The trajectories will come from the trajectory
position file called <i>tjcalc3.traj</i>, created by a previous execution
of RIP in trajectory calculation mode. The trajectories will be plotted
in green, and only the parts from forecast hours 12 through 18 will be
plotted (i.e. you can plot a subset of the time period for which the trajectories
were calculated). Only trajectory numbers 3, 6, 9, and 12 will be plotted,
as specified by the <i>tjid</i> keyword. Finally, a map and tick mark background
will be plotted.
<p><i>c. Printing out trajectory positions</i>
<p>Sometimes, you may want to examine the contents of a trajectory position
file. Since it is a binary file, the trajectory position file cannot simply
be printed out. However, a short program is provided in the <i>src/</i>
directory in the RIP tar file called <i>showtraj.f</i>, which reads the
trajectory position file and prints out its contents in a readable form.
The program should have been compiled when you originally ran <i>make</i>,
and when you run <i>showtraj</i>, it prompts you for the name of the trajectory
position file to be printed out.
<p><i>d. Printing out diagnostics along trajectories</i>
<p>As mentioned above, if fields are specified in the plot specification
table for a trajectory calculation run, then RIP produces a <i>.diag</i>
file that contains values of those fields along the trajectories. This
file is an unformatted Fortran file, so another program is required to
view the diagnostics. Among the Fortran files included in the <i>src/</i>
directory in the RIP tar file
is <i>tabdiag.f</i> which serves this purpose. It is also compiled when
<i>make</i>
is run.
<p>In order to use the program, you must first set up a special input file
that contains two lines. The first line should be the column headings you
want to see in the table that will be produced by <i>tabdiag</i>, with
the entire line enclosed in single quotes. The second line is a Fortran
I/O format string, also enclosed in single quotes, which determines how
the diagnostic values are printed out. An example of an input file for
<i>tabdiag</i>
is included in the RIP tar file, called <i>tabdiag.in</i>, and is shown
below.
<p><font face="Courier New,Courier">‘ Time (h) qcl (g/kg) Press. (mb) Omega
(ubar/s) RH (%) ’</font>
<br><font face="Courier New,Courier">‘(5(3x,f9.3,3x))’</font>
<p>If a trajectory calculation run requested that <i>qcl, prs, omg, </i>and
<i>rhu
</i>be
calculated along the trajectories, this input file for <i>tabdiag</i> might
be used to tabulate that data. Note that the <i>tabdiag</i> input file
should include a column heading and Fortran formatting for the time, in
hours, in the first column. The program <i>tabdiag</i> always prints out
the time in the first column, regardless of which diagnostic fields were
requested. Once the input file is set up, <i>tabdiag</i> is run as follows:
<p><font face="Courier New,Courier">tabdiag <u>diagnostic-output-file</u>&nbsp;<u>tabdiag-input-file</u></font>
<p>The result will be a text file with a table for each trajectory, showing
the time evolution of the diagnostic quantities. Some adjustment of the
column headings and format statement will probably be necessary to make
it look just right.
<p><a NAME="v5d"></a><b>8. Creating a data set for Vis5D</b>
<p>Vis5D is a powerful visualization software package developed at the
University of Wisconsin, and is widely used by mesoscale modelers to perform
interactive 3D visualization of model output. Although it does not have
the flexibility of RIP for producing a wide range of 2D plot types with
extensive user control over plot details, its 3D visualization capability
and fast interactive response make it an attractive complement to RIP.
<p>A key difference between RIP and Vis5D is that RIP was developed specifically
for scientific diagnosis and operational display of MM5 modeling system
output. This has two important implications: (1) The RIP system can ingest
MM5 system output, and (2) RIP can produce a wide array of diagnostic quantities
that MM5 modelers want to see. Thus, it makes sense to make use of these
qualities to have RIP act as a bridge between the MM5 system and the Vis5D
package. For this reason, a Vis5D-format data-generating capability was
added to RIP. With this capability, you can create a Vis5D data set from
your MM5 data set, including any diagnostic quantities that RIP currently
calculates.
<p>The Vis5D mode in RIP is switched on by setting <i>imakev5d=</i>1 in
the <i>&amp;userin</i> namelist in the UIF. All other variables in the
<i>&amp;userin</i>
part of the namelist are ignored. No plots are generated in Vis5D mode.
The desired diagnostic quantities are specified in the plot specification
table (PST). Since no plots are produced, only a minimum of information
is necessary in the plot specification table. In most cases, only the <i>feld</i>
keyword needs to be set, and vertical levels should be specified with <i>levs</i> (in km) for the first
field requested.  The vertical coordinate will automatically be set to
<i>'z'</i>, so there is no need to set <i>vcor=z</i>. The levels specified with
<i>levs</i> for the first requested field will apply to all 3D fields
requested, so the <i>levs</i> specification need not be repeated for every field.  You are free to choose
whatever levels you wish, bearing in mind that the data will be interpolated
from the data set's sigma or pressure levels to the chosen height levels.
<p>For some fields, other keywords that affect the
calculation of the field should be set (such as <i>strm</i>,
<i>rfst</i>,
<i>crag</i>,
<i>crbg</i>,
<i>shrd</i>,
<i>grad</i>,
<i>gdir</i>,
<i>qgsm</i>,
<i>smcp</i>,
and <i>addf</i>). Keywords that only affect how and where the field is
plotted can be omitted. Any of the diagnostic quantities listed in <a href="#fields">Appendix
B</a> can be added to the Vis5D data set, with the exception of the Sawyer-Eliassen
diagnostics. Each desired diagnostic quantity should be specified in its
own frame specification group (FSG) (i.e. only one <i>feld</i>= setting
between each line of repeated equal signs). The only exception to this
is if you are using the <i>addf
</i>keyword. In that case, all of the plot
specification lines (PSLs) corresponding to the fields being added (or
subtracted) should be in one FSG.
<p>As a simple example, if you want to create
a Vis5D data set with velocities, pressure, sea-level pressure, potential
temperature, cloud mixing ratio, precipitation mixing ratio, potential
vorticity, and water vapor mixing ratio, your plot specification table
would look something like this:
<p><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">---------------- Plot Specification
Table ------------------</font>
<br><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">feld=uuu; levs=0,-12,.5</font>
<br><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">feld=vvv</font>
<br><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">feld=www</font>
<br><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">feld=prs</font>
<br><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">feld=slp</font>
<br><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">feld=the</font>
<br><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">feld=qcl</font>
<br><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">feld=qpr</font>
<br><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">feld=pvo</font>
<br><font face="Courier New,Courier">============================================================</font>
<br><font face="Courier New,Courier">feld=qvp</font>
<br><font face="Courier New,Courier">============================================================</font>
<p>Once the user input file is set up, RIP is run as outlined in <a href="#runrip">section
5</a>. Since no plots are generated when RIP is run in Vis5D mode, no <i><u>rip-execution-name</u>.cgm</i>
file is created. (<i><u>rip-execution-name</u></i> is the unique name you've
chosen for a particular execution of RIP. See <a href="#runrip">section
5</a>). However, a file is created with the name <i><u>rip-execution-name</u>.v5d</i>.
This file is the Vis5D data set which can be used by the Vis5D program
to interactively display your MM5 data set.

<p>The map projection information will automatically be generated by RIP and
included in the Vis5D data set.  Therefore, you don't have to explicitly
request <i>feld=map</i> in the plot specification table.  However, there are
some complications with converting the MM5 map background parameters to those
required by Vis5D.  Currrently, RIP can only make the conversion for Lambert
conformal maps, and even that conversion does not produce an exact duplication
of the MM5 map background position.

<p>Vis5D also has its
own terrain data base for producing a colored terrain-relief map
background--you don't need to specifically request <i>feld=ter</i> to get this.
However, if you want to look at the actual MM5 terrain as a contour or
color-filled field, you should add <i>feld=ter</i> to your plot specificatio
table.

<p><a NAME="keyw"></a><b>Appendix A. Keywords</b>
<p>This appendix is a list of all the available keywords. Each entry contains
the keyword, a brief statement of what the keyword is, the type and number
of values expected, the default values, whether they are type R ("remembered")
or F ("forgotten"), the purpose of the keyword, and, in some cases, a more
extended explanation of how to use the keyword.
<p>The most important keywords, which must be specified for every plot
(and are typically specified first), are <b><i>feld</i></b> and <b><i>ptyp</i></b>.
These are described first. Following these two is an alphabetic list of
all other keywords.
<p><b><i>feld</i></b>: Field to be plotted
<p>Expects 1, 2, or 3 character values, each up to 10 characters in length;
defaults are <i>dm1, dm2, </i>and<i> dm3</i> (these are nonsense values);
type is<i> F</i>.
<p>Purpose: This specifies the field or fields for the plot. For contour
plots, character plots, skew-T temperature trace plots, trajectory plots,
vertical profiles, and background plots, only one value is expected. For
vector plots that require two components (if <i>ptyp</i> is set to <i>hv</i>,
<i>hs</i>,
<i>vw</i>,
or <i>sv</i>), two fields are expected. For vector plots that require three
components (if
<i>ptyp</i> is set to <i>vv</i>), three fields are expected.
The available fields are described in <a href="#fields">Appendix B</a>.
<p><b><i>ptyp</i></b>: Plot type
<p>Expects 1 character value of length 2; default is 'hc'; type is<i> F</i>.
<p>Purpose: This keyword determines what type of plot will be drawn for
this PSL. There are currently 11 possibilities:
<dir>
<dir><i>hc</i>: horizontal contour plot
<br><i>hv</i>: horizontal vector plot
<br><i>hs</i>: horizontal streamline plot
<br><i>hh</i>: horizontal character plot (for things like land use, snow
cover)
<br><i>ht</i>: horizontal trajectory plot
<br><i>hb</i>: horizontal background plot (maps, perimeter tick marks)
<br><i>vc</i>: vertical (cross section) contour plot
<br><i>vv</i>: vertical vector plot (circulation vectors in the plain of
the cross sec.)
<br><i>vw</i>: vertical wind vector plot (hor. wind vectors in a vert.
cross sec.)
<br><i>vt</i>: vertical trajectory plot (trajectories projected onto the
plane of the cross section)
<br><i>vb</i>: vertical background plot (perimeter tick marks and ground
curve for cross section)
<br><i>sc</i>: sounding contour plot (a temperature trace on a skew-T)
<br><i>sv</i>: sounding vector plot (a wind barb column on a skew-T)
<br><i>sb</i>: sounding background plot (the background skew-T grid)
<br><i>pc</i>: vertical profile contour plot (a trace of the specified
variable as a function of height)
<p>A few notes on vertical (cross section) plots: In vertical cross section
plots, the data are interpolated in the horizontal direction from the grid
to an arbitrary number of equally spaced points along the cross section.
That number is automatically chosen by RIP for contour plots, but you can
specify it for vector plots. In the vertical direction, the data are not
interpolated. Rather, the plotting grid itself is transformed so that the
sigma-level data are correctly placed with respect to whatever vertical
coordinate has been chosen for the cross section. The tick mark background
plot will also draw a curve indicating the position of the ground.</dir>
</dir>
<b><i>addf</i></b>: Add (or subtract) this field to (or from) the next
field
<p>Expects 1 real value; default is 0.0, which means do not add this field
to the next field; type is<i> F</i>.
<p>Purpose: This option allows you to add fields together prior to plotting.
Added fields should appear as separate PSLs. In PSLs that have the <i>addf</i>
keyword, usually only the <i>feld</i> keyword needs to be set. For some
fields, other keywords that affect the calculation of the field should
be set (such as <i>strm</i>, <i>rfst</i>, <i>crsa</i>,
<i>crsb</i>,
<i>shrd</i>,
<i>grad</i>,
<i>gdir</i>,
<i>qgsm</i>,
<i>redo,
sepa, lapl, hadv, diff, </i>and <i>smcp</i>). PSLs that only affect how
and where the field is plotted can be omitted. In the final field to be
added, <i>addf</i> should be omitted, and all the other desired keywords
should be set.
<dir>
<dir>As an example, suppose you want to plot the sum of cloud water, cloud
ice, rain, and snow. This would be accomplished as follows:
<p><font face="Courier New,Courier">feld=qcw; ptyp=hc; addf=1</font>
<br><font face="Courier New,Courier">feld=qci; ptyp=hc; addf=1</font>
<br><font face="Courier New,Courier">feld=qra; ptyp=hc; addf=1</font>
<br><font face="Courier New,Courier">feld=qsn; ptyp=hc; vcor=p; levs=850;
cint=1</font>
<p>Each field is multiplied by its value of <i>addf </i>prior to adding.
Hence, one can add or subtract a field or a multiple of a field. For example,
you could plot ageostrophic wind vectors as follows (although this field
exists, called <i>uageo</i> and <i>vageo</i>):
<p><font face="Courier New,Courier">feld=ugeo,vgeo; ptyp=hv; addf=-1</font>
<br><font face="Courier New,Courier">feld=uuu,vvv; ptyp=hv; vcor=p; levs=500;
intv=3</font></dir>
</dir>
<b><i>arng</i></b>: Automatic range
<p>Expects no values (logical); default is .false.; type is<i> F</i>.
<p>Purpose: This flag turns on the automatic range feature. The automatic
range feature changes the way in which the <i>cosq</i> keyword works for
color filling. If automatic range is on, then the values in the color sequence
should be made to range from 0 to 100, regardless of the units or the actual
range of the data in the plotted field. RIP then determines the minimum
and maximum values in the plotted field, and linearly maps the minimum-to-maximum
range on the 0-to-100 range. Hence, the full color range that is defined
will automatically cover the exact range of data in the plotted field.&nbsp;
Note that if you use <i>arng</i>, specification of contour interval (<i>cint</i>),
beginning contour (<i>cbeg</i>), and ending contour (<i>cend</i>) should
still be specified in terms of the actual values of the field if you need
to use these keywords.
<blockquote>Example:
<br><font face="Courier New,Courier"><font size=-1>feld=tmc; ptyp=hc; cmth=fill;
arng; cosq=0,blue,50,white,100,red</font></font></blockquote>
<b><i>axld</i></b>: Large labeled tick increment along distance axis
<p>Expects 1 real value; default is 100.; type is<i> F</i>.
<p>Purpose: This specifies how often (in units of km) there should be large
labeled tick marks along the distance axis of a cross section if <i>feld=tic</i>
is specified. A value of 0 indicates no large labeled tick marks should
be drawn.
<p><b><i>axlg</i></b>: Large labeled tick increment for horizontal plots
<p>Expects 1 integer value; default is 10; type is<i> F</i>.
<p>Purpose: This specifies how often (in grid points) there should be large
labeled tick marks in a horizontal plot if <i>feld=tic</i> is specified.
A value of 0 indicates no large labeled tick marks should be drawn.
<p><b><i>axlv</i></b>: Large labeled tick increment along vertical axis
<p>Expects 1 real value; default depends on vertical coordinate; type is<i>
F</i>.
<p>Purpose: This specifies how often (in units of the vertical coordinate)
there should be large labeled tick marks along the vertical axis of a cross
section if <i>feld=tic</i> is specified. A value of 0 indicates no large
labeled tick marks should be drawn. The default values are 0.1 for <i>vcor=s</i>
(sigma), 100 mb for <i>vcor=p, l</i>, or <i>x</i> (pressure, log pressure,
or Exner function), 1.0 km for <i>vcor=z</i> (height), and 10 K for <i>vcor=t</i>
or <i>e</i> (potential temperature or equivalent potential temperature).
<p><b><i>axtd</i></b>: Small tick increment along distance axis
<p>Expects 1 real value; default is 10.; type is<i> F</i>.
<p>Purpose: This specifies how often (in units of km) there should be small
tick marks along the distance axis of a cross section if <i>feld=tic</i>
is specified. A value of 0 indicates no small tick marks should be drawn.
<p><b><i>axtg</i></b>: Small tick increment for horizontal plots
<p>Expects 1 integer value; default is 1; type is<i> F</i>.
<p>Purpose: This specifies how often (in grid points) there should be small
tick marks in a horizontal plot if <i>feld=tic</i> is specified. A value
of 0 indicates no small tick marks should be drawn.
<p><b><i>axtv</i></b>: Small tick increment along vertical axis
<p>Expects 1 real value; default depends on vertical coordinate; type is<i>
F</i>.
<p>Purpose: This specifies how often (in units of the vertical coordinate)
there should be small tick marks along the vertical axis of a cross section
if <i>feld=tic</i> is specified. A value of 0 indicates no small tick marks
should be drawn. The default values are .01 for <i>vcor=s</i> (sigma),
10 mb for <i>vcor=p</i>, <i>l</i>, or <i>x</i> (pressure, log pressure,
or Exner function), .1 km for <i>vcor=z</i> (height), and 1 K for <i>vcor=t</i>
or <i>e</i> (potential temperature or equivalent potential temperature).
<p><b><i>bogs</i></b>: Flag to output a bogus sounding
<p>Expects no values (logical); default is .false.; type is<i> F</i>.
<p>Purpose: If this is true, RIP will output a bogus sounding print out
in "little-r" format to the file <i>fort.66</i>.
<p><b><i>cbeg</i></b>: Beginning contour value
<p>Expects 1 real value; default is -9.0e9 (nine times ten to the ninth);
type is<i> F</i>.
<p>Purpose: This specifies the beginning contour value. A value of -9.0e9
causes RIP to choose a nice value that is near the minimum value in the
plotted field. A value of 9.0e9 causes RIP to choose a nice value that
is near the maximum value in the plotted field. RIP generates contours
by starting at <i>cbeg</i> and stepping toward <i>cend</i> by the amount
<i>cint</i>,
until the value of <i>cend</i> is reached. This stepping process may go
in either direction, i.e. <i>cint</i> may be greater or less than
<i>cbeg</i>.
<i>cbeg</i>
is also used to specify the lower limit of the horizontal axis for vertical
profiles (<i>ptyp=pr</i>).
<p><b><i>cend</i></b>: Ending contour value
<p>Expects 1 real value; default is 9.0e9 (nine times ten to the ninth);
type is<i> F</i>.
<p>Purpose: This specifies the ending contour value. A value of -9.0e9
causes RIP to choose a nice value that is near the minimum value in the
plotted field. A value of 9.0e9 causes RIP to choose a nice value that
is near the maximum value in the plotted field. <i>cend</i> is also used
to specify the upper limit of the horizontal axis for vertical profiles
(<i>ptyp=pr</i>).
<p><b><i>chfl</i></b>: Character fill flag
<p>Expects no values (logical); default is .false.; type is<i> F</i>.
<p>Purpose: If this is true, then the character plotting routine will not
plot characters, but instead will fill each grid box with the appropriate
color from the color sequence.
<p><b><i>cint</i></b>: Contour interval (contour plots) or lat/lon line
interval (for maps)
<p>Expects 1 real value; default for contour plots is a nice value that
generates near the desired number of contours; default for maps is 10<font face="Symbol">&deg;</font>;
type is<i> F</i>
<p>Purpose: For contour plots, this specifies the contour interval. If
it is not specified, RIP will choose a nice value that generates near the
desired number of contours (as specified by the <i>ncon</i> keyword). For
maps, <i>cint</i> specifies the contour interval for latitude and longitude
lines on a map background.
<p><b><i>cmth</i></b>: Contouring method
<p>Expects 1 character value; default is 'cont'; type is<i> F</i>.
<p>Purpose: Determines whether this plot will generate contour lines (<i>cont</i>),
contour filling (<i>fill</i>), or both (<i>both</i>).
<p><b><i>coll</i></b>: Labeled contour color
<p>Expects 1 character value; default is the value of <i>colr</i>; type
is<i> F</i>.
<p>Purpose: This sets the color of the labeled contours, if it is to be
different from <i>colr</i>. Any color name that is defined in the color
table is valid.
<p><b><i>colr</i></b>: Plot color
<p>Expects 1 character value; default is 'def.foreground'; type is<i> F</i>.
<p>Purpose: This is the main color that will be used for the plot. Any
color name that is defined in the color table is valid. Depending on what
type of plot is being drawn, <i>colr</i> determines the color of contours,
vectors, wind barbs, streamlines, characters (in character plots), trajectories,
lat/lon lines (in map plots), the perimeter square and tick marks, lines
(for <i>feld=line</i> or <i>feld=box</i>), bullets, or station IDs. It
also sets the color of the corresponding plot title at the top of the plot,
as well as the corresponding messages at the bottom of the plot.
<p><b><i>cong</i></b>: Negative contour color
<p>Expects 1 character value; default is the value of <i>colr</i>; type
is<i> F</i>.
<p>Purpose: This sets the color of the negative contours, if it is to be
different from <i>colr</i>. Also, for horizontal trajectory plots, if <i>feld=circle</i>
is set, this color is used for circles representing negative net height
changes. Any color name that is defined in the color table is valid.
<p><b><i>conl</i></b>: Negative labeled contour color
<p>Expects 1 character value; default is the value of <i>cong</i>; type
is<i> F</i>.
<p>Purpose: This sets the color of the negative labeled contours, if it
is to be different from <i>cong</i>. Any color name that is defined in
the color table is valid.
<p><b><i>cosq</i></b>: Color sequence
<p>Expects an arbitrary number of pairs of real and character values; Default
is such that all real values correspond to the color <i>def.foreground</i>;
type is<i> F</i>.
<p>Purpose: For contour plots, the color sequence determines how colors
are chosen for color filled contours. For horizontal character plots, the
color sequence is used for coloring the characters in character plots.
The color sequence is comprised of an arbitrary number of pairs, each of
which contains a real value and a color name. The values correspond to
values of the plotted field The color names can be any of the names that
are available in the color table.
<dir>
<dir>Examples:
<p>For color-filled contour plots:
<dir>
<dir>cosq=-5,white,3.5,red,7,orange,12,yellow,15,green,20,blue,24.5,violet
<p>The way in which colors are defined for the areas in between contours
is as follows. Each of the areas that are bounded by two different contours
is assigned a value that is equal to the average of the values of the bounding
contours. For the areas that are above the highest contour level (or below
the lowest contour level), the area value is chosen to be half a contour
interval above (or below) the bounding contour.
<p>The area value is then compared to the color sequence in order to find
the two color sequence pairs whose values bracket the area value. Interpolated
values of red, green, and blue fractions are calculated based on the area
value, the bracketing color sequence values, and the bracketing color sequence
colors. This interpolated color is then used to fill the area.
<p>If you want some contour-bounded areas of the plot to appear transparent,
so that other fields can be seen underneath, the color <i>transparent</i>
can be specified in the color sequence. For a given contour-bounded area,
if either of the bracketing values in the color sequence is assigned the
color <i>transparent</i>, that contour-bounded area will be transparent.
<br>&nbsp;</dir>
</dir>
For character plots:
<dir>
<dir>The color name refers to the color that you want a particular value
to be plotted in, and it can be any of the names that are available in
the color table. An example of a <i>cosq</i> setting for a character plot
might be
<p>feld=xlus; ptyp=hh; cosq=1,red,2,blue,4,pink,5,yellow,>
<p>7,sky.blue,8,violet,6,white,10,dark.blue
<p>This would result in a plot in which, at every cross point, the land
use category number would be plotted in the color as specified above. Any
numbers that do not have a color specified would be plotted in the default
foreground color (such as 3, 9, 11, etc., in the above example).
<br>&nbsp;</dir>
</dir>
</dir>
</dir>
<b><i>cozr</i></b>: Zero contour color
<p>Expects 1 character value; default is the value of <i>colr</i>; type
is<i> F</i>.
<p>Purpose: This sets the color of the zero contour, if it is to be different
from <i>colr</i>. Any color name that is defined in the color table is
valid.
<p><b><i>crsa</i></b>: Left cross section end point location
<p>Expects a variety of values; defaults are 3,3; type is<i> R</i>.
<p>Purpose: For vertical cross section plots, this sets the location (in
the dot point domain) of the first (left) end point of a cross section.
It also applies to some horizontal background plots: it sets the lower
left corner of a box (<i>feld=box</i>), the first end point of a line (<i>feld=line</i>),
or the location of a bullet (<i>feld=bull</i>). Finally, it is also used
to define a vector from <i>crsa</i> to <i>crsb</i>, which may be used to
define the direction of a vector component for keywords <i>strm</i>,
<i>shrd</i>,
and <i>gdir</i>.
<dir>
<dir>There are four different ways to specify location. The first is in
terms of the <i>x,y</i> location on the model grid. To specify location
in this way, use two real values, separated by a comma (i.e. x,y). The
second way is in terms of latitude and longitude. To specify location in
this way, use two real values, each with the words "lat" or "lon" immediately
after the number, and separated by a comma. The third way is in terms of
the 5-digit WMO number for a station in North America. To specify the location
in this way, supply the WMO number as a single integer value. The fourth
way is in terms of a four-character ICAO station identifier for a
station that has such an identifier listed in the <i>stationlist</i>. To
specify the location in this way, supply the identifier as one string,
and use only upper case for the string. Examples follow.
<p>x,y format: crsa=20.4,30;
<p>lat,lon format: crsa=40.24lat,-78.1lon;
<p>WMO format: crsa=72240;
<p>character ID format: crsa=ORD;
<p>An important limitation to be aware of is that, regardless of the format
that is used, the resulting x location must be between .5 and mjx-.5, and
the resulting y location must be between .5 and miy-.5.
<br>&nbsp;</dir>
</dir>
<b><i>crsb</i></b>: Right cross section end point location
<p>Expects a variety of values; defaults are 3,3; type is<i> R</i>.
<p>Purpose: For vertical cross section plots, this sets the location (in
the dot point domain) of the second (right) end point of a cross section.
It also applies to some horizontal background plots: it sets the upper-right
corner of a box (<i>feld=box</i>) or the second end point of a line (<i>feld=line</i>).
Finally, it is also used to define a vector from <i>crsa</i> to <i>crsb</i>,
which may be used to define the direction of a vector component for keywords
<i>strm</i>,
<i>shrd</i>,
and <i>gdir</i>.
<p><b><i>dall</i></b>: Labeled contour dash pattern
<p>Expects 1 integer value; default is the value of <i>dash</i>; type is<i>
F</i>.
<p>Purpose: This sets the dash pattern of the labeled contours, if it is
to be different from <i>dash</i>.
<p><b><i>dang</i></b>: Negative contour dash pattern
<p>Expects 1 integer value; default is the value of <i>dash</i>; type is<i>
F</i>.
<p>Purpose: This sets the dash pattern of the negative contours, if it
is to be different from <i>dash</i>. Also, for horizontal trajectory plots,
if <i>feld=circle</i> is set, this dash pattern is used for circles representing
negative net height changes.
<p><b><i>danl</i></b>: Negative labeled contour dash pattern
<p>Expects 1 integer value; default is the value of <i>dang</i>; type is<i>
F</i>.
<p>Purpose: This sets the dash pattern of the negative labeled contours,
if it is to be different from <i>dang</i>.
<p><b><i>dash</i></b>: Dash pattern
<p>Expects one two-digit integer value; default is 10, except if <i>feld=map</i>,
default is 32; type is<i> F</i>.
<p>Purpose: Depending on the type of plot being drawn, this sets the dash
pattern for contour lines, lat/lon lines (for maps), a temperature trace
in a skew-T sounding, or trajectories. The specification is based on the
idea that a segment of a contour can be broken up into 16 pieces. The first
digit of dash specifies how many solid pieces should be drawn, and the
second digit specifies how many blank pieces should be drawn. If the two
digits do not add up to 16, then the pattern is repeated until a pattern
of 16 pieces is achieved. If the two digits add up to more than 16, then
the pattern is cut off at 16. The 16-piece pattern is then used as the
repeating pattern for contour lines. Again, this is best seen by example:
<center><table BORDER WIDTH="85%" >
<tr>
<td>
<center><b>Dash value</b></center>
</td>

<td>
<center><b>This is what 2 repetitions of the 16-piece pattern look like:</b></center>
</td>
</tr>

<tr>
<td>
<center>10</center>
</td>

<td><font face="Courier">________________________________ </font>(solid)</td>
</tr>

<tr>
<td>
<center>20</center>
</td>

<td><font face="Courier">________________________________ </font>(same
as previous pattern)</td>
</tr>

<tr>
<td>
<center>80</center>
</td>

<td><font face="Courier">________________________________ </font>(same
as previous pattern)</td>
</tr>

<tr>
<td>
<center>11</center>
</td>

<td><font face="Courier">_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ </font>(shortest
possible dash)</td>
</tr>

<tr>
<td>
<center>21</center>
</td>

<td><font face="Courier">__ __ __ __ __ ___ __ __ __ __ _</font></td>
</tr>

<tr>
<td>
<center>32</center>
</td>

<td><font face="Courier">___&nbsp; ___&nbsp; ___&nbsp; ____&nbsp; ___&nbsp;
___&nbsp; _</font></td>
</tr>

<tr>
<td>
<center>88</center>
</td>

<td><font face="Courier">________&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
________&nbsp;</font></td>
</tr>

<tr>
<td>
<center>17</center>
</td>

<td><font face="Courier">_&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
_&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _&nbsp;</font></td>
</tr>
</table></center>

<blockquote>You should experiment to determine the length of dash pattern
that is obtained for various settings of <i>dash</i>.</blockquote>
<b><i>dazr</i></b>: Zero contour dash pattern
<p>Expects 1 integer value; default is the value of <i>dash</i>; type is<i>
F</i>.
<p>Purpose: This sets the dash pattern of the zero contour, if it is to
be different from <i>dash</i>.
<p><b><i>diff</i></b>: Difference fields
<p>Expects one to three values, which are either real or character, separated
by a comma(s); the order is not important; Default is no differencing;
type is<i> F</i>.
<p>Purpose: You can subtract from the specified field the same field at
a different time and/or in a different data set. If you want to subtract
the same field at a different time in the same data set, set <i>diff</i>
equal to a real value, which is a time in hours from the beginning of the
forecast or analysis. The time specified will be interpreted as an absolute
time. However, if you want to specify a time relative to the current plotted
time (either positive or negative is acceptable), also include the character
string "rel" (no quotes) as an additional value for the <i>diff</i> keyword.
If you want to subtract the same field at the same time in a different
model data set, set <i>diff</i> equal to a character value, which is the
prefix for the data set you want to subtract. This should be specified
as a path name relative to your current working directory, the same as
is <u>model-data-set-name</u> on the RIP command line. If you want to subtract
the same field at a different time and in a different data set, set <i>diff</i>
equal to a real and a character value separated by a comma, where the real
value is the time in hours and the character value is the name of the data
set to subtract. These can be specified in either order: <u>time,data-set</u>
or <u>data-set,time</u>.
<blockquote>Examples:
<p><font face="Courier New,Courier">diff=10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</font>This would subtract the same field in the same data set
<br><font face="Courier New,Courier">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</font>but at hour 10.
<br><font face="Courier New,Courier">diff=-3,rel;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</font>This would subtract the same field in the same data set
<br><font face="Courier New,Courier">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</font>but 3 h prior to the current time.
<br><font face="Courier New,Courier">diff=data/noflux;&nbsp;&nbsp;&nbsp;&nbsp;
</font>This would subtract the same field at the same time
<br><font face="Courier New,Courier">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</font>but from the data set "noflux" in the "data" directory.
<br><font face="Courier New,Courier">diff=rel,-6,data/dryrun; </font>This
would subtract the same field
<br><font face="Courier New,Courier">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</font>but from 6 h prior to the current time, and from the
<br><font face="Courier New,Courier">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</font>data set "dryrun" in the "data" directory.</blockquote>
<b><i>fchl</i></b>: Fill color for high/low label boxes in contour plots
<p>Expects 1 character value; default is the value of <i>fclb</i>; type
is<i> F</i>.
<p>Purpose: This sets the fill color for high/low label boxes, if it is
to be different from <i>fclb</i>. Any color name that is defined in the
color table is valid.
<p><b><i>fclb</i></b>: Fill color for label boxes in contour plots
<p>Expects 1 character value; default is '999999', which means "do not
fill"; type is<i> F</i>.
<p>Purpose: This sets the fill color for label boxes. Any color name that
is defined in the color table is valid.
<p><b><i>fclo</i></b>: Fill color for low label boxes in contour plots
<p>Expects 1 character value; default is the value of <i>fchl</i>; type
is<i> F</i>.
<p>Purpose: This sets the fill color for low label boxes, if it is to be
different from <i>fchl</i>. Any color name that is defined in the color
table is valid.
<p><b><i>fcnl</i></b>: Fill color for negative contour label boxes in contour
plots
<p>Expects 1 character value; default is the value of <i>fclb</i>; type
is<i> F</i>.
<p>Purpose: This sets the fill color for negative contour label boxes,
if it is to be different from <i>fclb</i>. Any color name that is defined
in the color table is valid.
<p><b><i>fczr</i></b>: Fill color for zero contour label boxes in contour
plots
<p>Expects 1 character value; default is the value of <i>fclb</i>; type
is<i> F</i>.
<p>Purpose: This sets the fill color for zero contour label boxes, if it
is to be different from <i>fclb</i>. Any color name that is defined in
the color table is valid.
<p><b><i>fulb</i></b>: Full barb value
<p>Expects 1 character value; default is '5mps'; type is<i> F</i>.
<p>Purpose: Sets the value of a full wind barb on either horizontal wind
barb plots, vertical cross sections with horizontal wind barbs, or wind
barb columns in skew-T sounding plots. If you want to follow the convention
used on standard 20th-century (non-SI units) U.S. weather charts, the appropriate
value would be '10kts' (which refers to 10 knots). The other choices are
'10mps' or '5mps' (for "10 meters per second" of "5 meters per second",
respectively). A message will appear on the plot indicating the choice
of <i>fulb</i>.
<p><b><i>gdir</i></b>: Direction for horizontal gradient, Laplacian, or
advection calculation
<p>Expects 1 integer value; default is 362; type is<i> F</i>.
<p>Purpose: This specifies the desired direction to be used in the calculation
of the horizontal gradient (with keyword <i>grad</i>), Laplacian (with
keyword <i>lapl</i>), or advection (with keyword <i>hadv</i>). Values between,
and including, 0 and 360, mean that you want the component in that compass
direction. A value of 361 means that you want the magnitude of the gradient,
the total Laplacian, or the total advection. A value of 362 means that
you want the component in the along-cross-section (left to right) direction,
where the cross section position is defined by the keywords <i>crsa</i>
and <i>crsb</i>. (See descriptions of keywords <i>crsa</i> and <i>crsb</i>).
A value of 363 means that you want the component into the cross section.
Since the Laplacian and the advection are scalars, not vectors, use of
the word "component" above means that only velocity components and derivatives
in the specified direction are used. Thus, if a direction is specified
(<i>gdir</i>=1-360 or <i>gdir</i>=362 or <i>gdir</i>=363), this gives the
second derivative in that direction if <i>lapl</i> is used, or the velocity
component in that direction times the derivative of the field in that direction
if <i>hadv</i> is used.
<p><b><i>grad</i></b>: Calculate (and plot) the gradient of a field
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: This flag causes RIP to calculate (and plot) the horizontal
gradient (on a height surface) of the field specified by the <i>feld</i>
keyword, instead of the field itself. Depending on the setting of the keyword
<i>gdir</i>,
either the magnitude of the gradient will be calculated, or the component
of the vector gradient in the direction specified will be calculated.
<p><b><i>hadv</i></b>: Calculate (and plot) the horizontal advection of
a field
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: This flag causes RIP to calculate (and plot) the horizontal
advection (using constant-height derivatives) of the field specified by
the <i>feld</i> keyword, instead of the field itself. Depending on the
setting of the keyword
<i>gdir</i>, either the total advection will be
will be calculated, or the advection due only to the wind component in
the specified direction times the derivative of the field in that direction
will be calculated.
<p><b><i>hide</i></b>: Hide contours, vectors, or streamlines that are
below ground.
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: This flag causes contours, vectors, and streamlines to be omitted
in a grid box if the chosen vertical level is below ground at any of the
four corners of the grid box. If <i>hide</i> is not used, then for points
where the chosen vertical level is below ground, pressure and geopotential
height are reduced hydrostatically, some temperature-related variables
are reduced with a standard lapse rate, and all other variables are assigned
the surface value. Also, if <i>imakev5d</i>=1, <i>hide</i> will cause the
height-interpolated data to be assigned the "missing" flag below ground,
so that Vis5D will show no contours, vectors, etc. below ground. If <i>hide</i>
is not used, values will be assigned to variables at below-ground points
as described above.
<p><b><i>hodo</i></b>: Plot a hodograph.
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: This flag is used in conjunction with "ptyp=sv", and has the
effect of producing a hodograph in the upper left corner of the sounding
plot. If a skew-T background is also drawn with "feld=tic; ptyp=sb" (which
it almost always is when you create a skew-T sounding), then the
<i>hodo</i>
keyword should also be included on the plot specification line for the
background, so that parts of the background will be omitted in the area
where the hodograph is drawn.
<p><b><i>hvbr</i></b>: Specify the orientation (horizontal or vertical)
of the filled contour label bar.
<p>Expects 1 integer value; default is -1 (let RIP decide); type is<i>
F</i>.
<p>Purpose: For color-filled contour plots, RIP creates a label bar which
shows what values correspond to what colors. This bar may appear either
as a horizontal bar on the bottom of the plot, or as a vertical bar on
the right side of the plot. If <i>hvbr</i> is NOT used, RIP chooses which
orientation is best, based on the aspect ratio of the plot. If you want
to override RIP's choice of orientation, use <i>hvbr</i>=0 for a horizontal
bar on the bottom, or <i>hvbr</i>=1 for a vertical bar on the right.
<p><b><i>intv</i></b>: Vector or character interval
<p>Expects 1 integer value; default is 1; type is<i> F</i>.
<p>Purpose: This specifies the plotting stride, in grid intervals. For
example, if <i>intv</i>=2, vectors or characters will be plotted at every
other grid point. It also specifies a spacing of streamlines for horizontal
streamline plots, though the quantitative meaning of, say, <i>intv</i>=3
for streamlines is unclear. For streamlines, it's best to experiment with
values from 1-10 and see what looks nice.
<p><b><i>lapl</i></b>: Calculate (and plot) the horizontal Laplacian of
a field
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: This flag causes RIP to calculate (and plot) the horizontal
Laplacian (on a constant-height surface) of the field specified by the
<i>feld</i>
keyword, instead of the field itself. Depending on the setting of the keyword
<i>gdir</i>,
either the total horizontal Laplacian will be will be calculated, or the
second derivative of the field in the specified direction will be calculated.
<p><b><i>lcbr</i></b>: Label color for filled contour label bar
<p>Expects 1 character value; default is <i>def.foreground</i>; type is<i>
F</i>.
<p>Purpose: This sets the color of the label bar text and box perimeter.
Any color name that is defined in the color table is valid.
<p><b><i>lchl</i></b>: Label color for high/low labels
<p>Expects 1 character value; default is the value of <i>colr</i>; type
is<i> F</i>.
<p>Purpose: For contours, this sets the color of the high/low label text
and box perimeter, if it is to be different from <i>colr</i>. For trajectories,
this sets the color of the "L" marking the storm position for storm-relative
trajectories. Any color name that is defined in the color table is valid.
<p><b><i>lcll</i></b>: Label color for labeled contours or trajectories.
<p>Expects 1 character value; default is the value of <i>coll</i> for contours,
or the value of <i>colr</i> for trajectories; type is<i> F</i>.
<p>Purpose: For contours, this sets the color of the contour label text
and box perimeter, if it is to be different from <i>coll</i>. For trajectories,
this sets the color of the trajectory labels. Any color name that is defined
in the color table is valid.
<p><b><i>lclo</i></b>: Label color for low labels in contour plots.
<p>Expects 1 character value; default is the value of <i>lchl</i>; type
is<i> F</i>.
<p>Purpose: This sets the color of the low label text and box perimeter,
if it is to be different from <i>lchl</i>. Any color name that is defined
in the color table is valid.
<p><b><i>lcnl</i></b>: Label color for negative labeled contours.
<p>Expects 1 character value; default is the value of <i>conl</i>; type
is<i> F</i>.
<p>Purpose: This sets the color of the negative contour label text and
box perimeter, if it is to be different from <i>conl</i>. Any color name
that is defined in the color table is valid.
<p><b><i>lczr</i></b>: Label color for zero contour.
<p>Expects 1 character value; default is the value of <i>cozr</i>; type
is<i> F</i>.
<p>Purpose: This sets the color of the zero contour label text and box
perimeter, if it is to be different from <i>cozr</i>. Any color name that
is defined in the color table is valid.
<p><b><i>levs</i></b>: Level specifier for horizontal plots.
<p>Expects an arbitrary number of real values; default is a single value
equal to the index of the lowest half-sigma layer; type is<i> R</i>.
<p>Purpose: This defines the vertical levels to be plotted. The <i>levs</i>
keyword has many complexities to it, which are described below.
<dir>
<dir>The way in which the values of <i>levs</i> are specified depends on
the setting of <i>vcor</i>:
<p>For <i>vcor=s</i>, <i>levs</i> should be specified either by level index
(i.e. <i>k</i> index), or by sigma value. Numbers greater than or equal
to 1.0 will be assumed to be a <i>k</i> index (after being rounded to the
nearest integer), while numbers less than 1.0 will be assumed to be a sigma
value. When sigma values are used, RIP will choose the sigma level in the
data that is closest to the value requested. It will not interpolate. The
level that RIP chooses will appear in the plot title. When <i>k</i> indices
are used, you may specify sigma levels either in the conventional way (assuming
top-most level is <i>k</i>=1 and bottom-most level is <i>k</i>=KMAX), or
in reverse orientation with a preceding "b" to indicate "from the bottom"
(bottom-most level is <i>k</i>=b1, second level above ground is <i>k</i>=b2,
etc.).
<p>For other values of <i>vcor</i>, RIP will interpolate to the requested
level.
<p>For <i>vcor=p</i>, <i>levs</i> should be specified in mb; for <i>vcor=z</i>,
km; for <i>vcor=t</i>, K; and for <i>vcor=e</i>, K.
<p>Any number of levels can be requested, separated by commas. For example,
consider the following:
<p><font face="Courier New,Courier">vcor=p; levs=1000,850,700,500;</font>
<br><font face="Courier New,Courier">vcor=s; levs=3,5,.45,b2,.96,15,b1,22;</font>
<br><font face="Courier New,Courier">vcor=z; levs=2.5,9.4,5;</font>
<br><font face="Courier New,Courier">vcor=t; levs=290,330,360;</font>
<p>The first example says you want plots at pressure = 1000, 850, 700,
and 500 mb. The second example says you want plots at sigma levels, and
those levels will be <i>k</i>=3, <i>k</i>=5, the closest level to <font face="Symbol">s</font><i>=.</i>45,
<i>k</i>=2nd
level from the bottom, the closest level to <font face="Symbol">s</font><i>=.</i>96,
<i>k</i>=15,
the bottom level, and <i>k</i>=22. The third example says you want plots
at
<i>z</i> = 2.5, 9.4, and 5.0 km. The fourth example says you want plots
at <font face="Symbol">q</font> = 290, 330, and 360 K.
<p>There is a simple way to specify a range of levels without having to
ask for each one individually. This is done by use of the minus sign. If
the <i>n</i>th <i>levs</i> value has a minus sign, that means you want
plots from the (<i>n</i>-1)th value to the (-<i>n</i>)th value, with an
increment of the (<i>n</i>+1)th value. This range specification style can
be intermixed with individual level values. This is all best understood
by example. Consider the following examples:
<p><font face="Courier New,Courier">vcor=s; levs=15,b1,-26,2,17,21,-b2,3,b20,.46,-.94,.08</font>
<br><font face="Courier New,Courier">vcor=p; levs=1000,-700,150,500,400,300,-50,50</font>
<p>The first example will give plots at sigma levels, and (if there are
34 half-sigma levels total) those levels will be at <i>k</i>=15, <i>k</i>=34,
<i>k</i>=32,
<i>k</i>=30,
<i>k</i>=28,
<i>k</i>=26,
<i>k</i>=17,
<i>k</i>=21,
<i>k</i>=24,
<i>k</i>=27,
<i>k</i>=30,
<i>k</i>=33,
<i>k</i>=15,
and the closest levels to <font face="Symbol">s</font><i>=.</i>46, .54,
.62, .70, .78, .86, and .94
<p>The second example will give plots at pressure = 1000, 850, 700, 500,
400, 300, 250, 200, 150, 100, and 50 mb.
<p>How does the plotting algorithm respond to PSLs that ask for more than
one level? The way it works is that for a given frame, if any of the plots
within the frame are requested at more than one level, then the entire
frame is repeated for each of the levels requested for that plot. If more
than one plot in a given frame is requested at multiple levels, then the
frame will be repeated <i>n</i> times, where <i>n</i> is the maximum number
of levels requested for any of the plots in the frame. The frames with
less than <i>n</i> levels requested will have the last level repeated until
<i>n</i>
frames have been plotted. So then, consider the following unlikely, but
illustrative, example of a FSG:
<p><font face="Courier New,Courier">===================================================</font>
<br><font face="Courier New,Courier">feld=tmc; ptyp=hc; vcor=s; levs=27,-23,1</font>
<br><font face="Courier New,Courier">feld=wsp; ptyp=hc; vcor=p; levs=850,400,300</font>
<br><font face="Courier New,Courier">feld=map; ptyp=hb</font>
<br><font face="Courier New,Courier">feld=tic; ptyp=hb</font>
<br><font face="Courier New,Courier">===================================================</font>
<p>This example will cause the frame to repeat 5 times, with the following
plots overlaid:
<p>1. Temp. (<font face="Symbol">&deg;</font>C) at sigma level 27, Wind
speed at pressure=850mb, map background, and tick marks on the plot perimeter.
<p>2. Temp. (<font face="Symbol">&deg;</font>C) at sigma level 26, Wind
speed at pressure=400mb, map background, and tick marks on the plot perimeter.
<p>3. Temp. (<font face="Symbol">&deg;</font>C) at sigma level 25, Wind
speed at pressure=300mb, map background, and tick marks on the plot perimeter.
<p>4. Temp. (<font face="Symbol">&deg;</font>C) at sigma level 24, Wind
speed at pressure=300mb, map background, and tick marks on the plot perimeter.
<p>5. Temp. (<font face="Symbol">&deg;</font>C) at sigma level 23, Wind
speed at pressure=300mb, map background, and tick marks on the plot perimeter.
<p>Note that the value(s) of <i>levs</i> are irrelevant and ignored for
background plots (maps, tick marks), vertical cross sections, soundings,
or horizontal plots of 2-d fields (sea-level pressure, ground temperature,
etc.).
<p>Also note: For character plots of 3D fields, only sigma levels can be
used (either sigma values or <i>k</i> indices). Interpolation to other
vertical coordinates is not available for character plots (i.e. the keyword
<i>vcor</i>
has no effect for horizontal character plots).
<p><u>Vertical averaging</u>: the <i>levs</i> keyword can also be used
to average a 3D field in the vertical. This only works with sigma as the
vertical coordinate (<i>vcor=s</i>), i.e. you can only average between
sigma levels, not between pressure levels or isentropic levels, etc. The
specification is similar to the multiple-level format for the <i>levs</i>
keyword, except that the third number should be a zero. The following PSL
is an example:
<p><font face="Courier New,Courier">feld=tmc; ptyp=hc; vcor=s; levs=28,27,20,-12,0,8</font>
<p>This would plot temperature at sigma levels 28 and 27, then a vertical
average of temperature from sigma levels 20 through 12, and then temperature
at sigma level 8.
<p><u>Vertical differencing</u>: the <i>levs</i> keyword can also be used
to do sigma-level differencing for a 3D field. As with averaging, this
only works with sigma as the vertical coordinate (<i>vcor=s</i>), i.e.
you can only take a difference between sigma levels, not between pressure
levels or isentropic levels, etc. The specification is similar to vertical
averaging, except that the third number should be a -1. The following PSL
is an example:
<p><font face="Courier New,Courier">feld=tmc; ptyp=hc; vcor=s; levs=28,27,20,-12,-1,8</font>
<p>This would plot temperature at sigma levels 28 and 27, then a vertical
difference (temperature at sigma level 20 minus temperature at sigma level
12), and then temperature at sigma level 8.</dir>
</dir>
<b><i>linw</i></b>: Line width
<p>Expects 1 integer value; default is 1; type is<i> F</i>.
<p>Purpose: This sets the line width, as a multiple of the default line
width for NCAR Graphics. Depending on plot type, the line width applies
to contours, vectors, wind barbs, streamlines, trajectories, lat/lon lines,
plot perimeter and tick marks, boxes or lines on horizontal plots, skew-T
temperature trace, or skew-T background grid.
<p><b><i>lwll</i></b>: Labeled contour line width
<p>Expects 1 integer value; default is the value of <i>linw</i>; type is<i>
F</i>.
<p>Purpose: This sets the line width of the labeled contours, if it is
to be different from <i>linw</i>.
<p><b><i>lwng</i></b>: Negative contour line width
<p>Expects 1 integer value; default is the value of <i>linw</i>; type is<i>
F</i>.
<p>Purpose: This sets the line width of the negative contours, if it is
to be different from <i>linw</i>. Also, for horizontal trajectory plots,
if <i>feld=circle</i> is set, this line width is used for circles representing
negative net height changes.
<p><b><i>lwnl</i></b>: Negative labeled contour line width
<p>Expects 1 integer value; default is the value of <i>lwng</i>; type is<i>
F</i>.
<p>Purpose: This sets the line width of the negative labeled contours,
if it is to be different from <i>lwng</i>.
<p><b><i>lwzr</i></b>: Zero contour line width
<p>Expects 1 integer value; default is the value of <i>linw</i>; type is<i>
F</i>.
<p>Purpose: This sets the line width of the zero contour, if it is to be
different from <i>linw</i>.
<p><b><i>mand</i></b>: Show mandatory levels on skew-T background plot
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>
<p>Purpose: The normal sounding background has horizontal black lines every
100 hPa, and light gray lines at the intermediate 50 hPa levels. <i>mand</i>
changes this to black lines at mandatory levels, and light gray lines at
all non-mandatory levels divisible by 50 hPa.
<p><b><i>mfco</i></b>: Map fill colors
<p>Expects 1 to 6 character values; default is no color filling of map;
type is<i> F</i>.
<p>Purpose: For maps, this sets the fill colors. If only one color is specified,
the entire map will be filled with that color. If two colors are specified,
water areas will be filled with the first color, and land areas will be
filled with the second color. If six colors are specified, water areas
will be filled with the first color, and the different land areas (states,
countries) will be filled with the other five colors, so that no adjacent
land areas are the same color.
<p><b><i>mjsk</i></b>: Major (labeled) contour skip increment
<p>Expects 1 integer value; default is 3; type is<i> F</i>.
<p>Purpose: This specifies the number of minor (unlabeled) contours between
major (labeled) contours. A value of 3 means every fourth contour will
be labeled.
<p><b><i>mllm</i></b>: Lat/lon line mask
<p>Expects 1 character value; default is <i>none</i>; type is<i> F</i>.
<p>Purpose: For maps, this keyword determines whether lat/lon lines will
be masked (i.e. will NOT appear) over <i>land</i> or <i>water</i>. The
default value of <i>none</i> results in no masking, in which lat/lon lines
appear everywhere.
<p><b><i>mult</i></b>: Multiplicative contour interval
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>
<p>Purpose: This causes <i>cint</i> to be used as a contour interval multiplier
rather than a contour interval increment. Examples will clarify this:
<dir>
<dir>Example 1:
<p><font face="Courier New,Courier">cbeg=3.5; cend=6.5; cint=.5</font>
<p>In example 1, <i>mult</i> is not used. Therefore, you will get contours
at 3.5, 4.0, 4.5, 5.0, 5.5, 6.0, and 6.5.
<p>Example 2:
<p><font face="Courier New,Courier">mult; cbeg=2; cend=162; cint=3</font>
<p>In example 2, since <i>mult</i> is used, you will get contours at 2,
6, 18, 54, and 162.</dir>
</dir>
<b><i>ncon</i></b>: Nice number of contours
<p>Expects 1 integer value; default is 20; type is<i> F</i>.
<p>Purpose: This specifies a nice number of contours that is used by RIP
as an approximate target number of contours for picking a value of <i>cint</i>,
if you do not specify <i>cint</i>.
<p><b><i>nmin</i></b>: No model info message
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: By default, RIP writes a model information line at the bottom
of the frame if a <i>.minfo</i> file is available with the data set. If
<i>nmin</i>
is included in any of the plots specification lines for a particular frame,
the model information line is omitted in that frame.
<p><b><i>nmsg</i></b>: No message
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: This flag suppresses the message that may appear at the bottom
of plots, which shows units, contour intervals, maximum vectors, trajectory
widths, etc.
<p><b><i>nobr</i></b>: No label bar for filled contour plots
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: This flag suppresses the drawing of the label bar
<p><b><i>nogd</i></b>: No true ground surface
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: For vertical cross sections produced from pressure-level data
sets, RIP normally shows a cross-hatched area indicating the true ground
surface. If you want to suppress this, and instead show only a line at
the pseudo-sigma=1 level, use <i>nogd</i>.
<blockquote>See section 6 for a complete explanation of how pressure-level
data is handled by RIP.</blockquote>
<b><i>nohl</i></b>: No high and/or low markers
<p>Expects either one value or no values (hybrid character/logical); default
is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: This flag suppresses the marking of highs and/or lows in contour
plots. When used as a simple logical flag (nohl;), it suppresses both high
and low labels. If set to "H" (nohl=H;), it suppreses only highs. If set
to "L" (nohl=L;), it suppresses only lows. In trajectory plots, it should
only be specified without any values, and it acts to suppress the plotting
of the storm center position with an "L" when the <i>tjsp</i> keyword has
been set.
<p><b><i>nolb</i></b>: No contour or trajectory labels
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: This flag suppresses the labeling of contours or trajectories.
<p><b><i>nozr</i></b>: No zero contour
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: This flag suppresses the zero contour.
<p><b><i>nsmm</i></b>: No smoothing message
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: This flag suppresses the message (at the end of the plot title)
indicating the number of smoothing passes used for this plot.
<p><b><i>nttl</i></b>: No plot title
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: This flag suppresses the title that appears for each plot at
the top of the frame.
<p><b><i>nvlb</i></b>: No vertical level message
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: This flag suppresses the message (in the middle of the plot
title) indicating the vertical level for this plot.
<p><b><i>orlb</i></b>: Orientation of contour labels.
<p>Expects on integer value; default is 1; type is<i> F</i>.
<p>Purpose: There are three possible values of this keyword. A value of
1 causes all contour labels to be drawn at a horizontal orientation. A
value of 2 causes all labels to be oriented along the contour. A value
of three uses the old CONREC method of contour labeling (instead of the
CONPACK method) in which the labels are drawn with cruder character strings
that are actually part of the contour dash pattern.
<p><b><i>ouco</i></b>: Map outline color
<p>Expects 1 character value; default is the value of <i>colr</i>; type
is<i> F</i>.
<p>Purpose: For maps, this sets the color of the map outlines. Any color
name that is defined in the color table is valid.
<p><b><i>ouds</i></b>: Map outline dot/solid flag
<p>Expects 1 character value; default is <i>dot</i>; type is<i> F</i>.
<p>Purpose: For maps, this keyword determines whether outlines will be
dotted (<i>dot</i>) or solid (<i>solid</i>).
<p><b><i>oulw</i></b>: Map outline line width or dot spacing
<p>Expects 1 integer value; default is 1 (if <i>ouds=solid</i>) or 12 (if
<i>ouds=dot</i>);
type is<i> F</i>.
<p>Purpose: If <i>ouds=solid</i>, this keyword determines the map outline
line width, as a multiple of the default line width for NCAR Graphics.
If <i>ouds=dot</i>, this keyword determines the map outline dot spacing,
as a multiple of the default dot spacing for routine EZMAP, which is 1/4096
times the width of the plotting screen.
<p><b><i>outy</i></b>: Map outline type
<p>Expects 1 character value; default is <i>PS</i>; type is<i> F</i>.

<p>Purpose: For maps, this keyword determines what type of outlines will be
used. The standard choices are <i>NO</i> (no outlines), <i>CO</i> (continental
only), <i>US</i> (U.S. states only), <i>PS</i> (continental, international, and
U.S. states), or <i>PO</i> (continental and international).&nbsp; These are the
same as the choices for outline type in NCAR Graphics.&nbsp; You can also draw
custom-made map outlines by obtaining one of the <i>.ascii</i> files that is
avaialable from the <a
href="ftp://ftp.ucar.edu/mesouser/MM5V3/GRAPH-RIP_DATA">MM5 ftp web site </a>
(or by creating your own), and placing it in your $RIP_ROOT directory, and
accessing it with the <i>outy</i> keyword.  For example, if you make a file
with U.S. rivers and call it rivers.ascii, you could draw this map bakcground
by requesting <i>feld=map;</i> and <i>outy=rivers.ascii;</i>.&nbsp; Three
example map definition files are provided on the ftp site: <i>asia.ascii</i>,
<i>china.ascii</i>, and <i>us_county.ascii</i>.&nbsp; If you want to make your
own map definition file, consult the read and format statements in subroutine
readmap, in the source code file <i>hiresmap.f</i>, to determine the format
that the map defnition file should have. IMPROTANT NOTE:&nbsp; color filling of
the map does not work if a user-defined map background is used.
<p><b><i>plrs</i></b>: Polar skew-T option
<p>Expects no values (logical); default is .false.; type is <i>F</i>. 
<p> Purpose: This flag is to select a skew-T background for
soundings plotted in polar regions, i.e., with very cold 
temperatures.  The standard skew-T background won't accomodate 
such temperatures and conditions, and by setting <i>plrs</i> the plotting 
sounding will be contained within a different set of ranges of the 
skew-T environment contours (temperatures, dry adiabats, 
moist adiabats, and mixing ratios).
<p>Parameter <i>plrs</i> must be specified in each field of the
sounding (temp, dewpoint, winds, tic).  Also, it does not
carry from frame to frame; it must be specified in each frame
for which a polar skew-T background is sought.
<p>Note: As of this writing, <i>hodo</i> (hodograph) and <i>sndg</i>
(sounding parameters) shouldn't be requested in soundings
produced with this option, as they will result in overwriting 
in the upper left and lower left corners of the plot.
	<p>Example:<br><ul>
	feld=tmc; ptyp=sc; colr=red; linw=3; sloc=NZSP; plrs<br>
	feld=tdp; ptyp=sc; colr=dark.green; linw=3; sloc=NZSP; plrs<br>
	feld=tic; ptyp=sb; plrs<br></ul>
<p><b><i>pwbr</i></b>: Perimeter line width for label bar in filled
contour plots <p>Expects 1 integer value; default is 1; type is<i>
F</i>.  <p>Purpose: This sets the perimeter line width for the label
bar. A value of 0 indicates that no perimeter should be drawn around
the boxes in the label bar.  <p><b><i>pwhl</i></b>: Perimeter line
width for high/low labels in contour plots <p>Expects 1 integer value;
default is the value of <i>pwlb</i>; type is<i> F</i>.  <p>Purpose:
This sets the perimeter line width for high/low labels, if it is to be
different from <i>pwlb</i>.  <p><b><i>pwlb</i></b>: Perimeter line
width for contour labels <p>Expects 1 integer value; default is 1;
type is<i> F</i>.  <p>Purpose: This sets the perimeter line width for
labels, as a multiple of the default line width for NCAR Graphics.
<p><b><i>qgsm</i></b>: Smoothing, as an intermediate step in
quasigeostrophic and Sawyer-Eliassen diagnostics.  <p>Expects 1
integer value; default is 0; type is<i> F</i>.  <p>Purpose: This
specifies the number of smoothing passes to be applied to various
fields that go into the quasigeostrophic and Sawyer-Eliassen
diagnostic routines. See the description of the fields <i>qgomg</i>
and <i>qmomg</i>.  There are several types of smoothers available. The
specification of the type and severity of smoothing is the same as for
the plotting smoother keyword <i>smth</i>. See the description of
keyword <i>smth</i> for more information.  <p><b><i>redo</i></b>:
Recalculate the field even if it is available in a file.  <p>Expects
no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: Sometimes, a diagnostic field may have already been
calculated and saved to a file. RIP first checks to see if this is the
case, and, if so, reads in the file instead of recalculating the
field. However, occasionally you may want RIP to recalculate the field
anyway. This flag forces RIP to do that.  <p><b><i>rfst</i></b>:
Reference state <p>Expects 4 real values; default is 1000, 290, 50,
0.1 (for hydrostatic data), or the reference state on which the data
set is based (for nonhydrostatic data); type is<i> F</i>.  <p>Purpose:
This specifies a reference state (as a function of height), and is
used only for computing the plotted fields of perturbation temperature
(<i>tpt</i>) and perturbation pressure (<i>ppt</i>). The reference
state should be specified by three values: sea-level pressure (mb),
sea-level temperature (K), lapse rate (<i>dT/d[ln(p)]</i>, K), and
stratospheric temperature (K).  <p><b><i>rota</i></b>: Rotation of
horizontal type plots <p>Expects 1 real value; default is 000.; type
is<i> F</i>.  <p>Purpose: Parameter "rota" specifies an angle, in
degrees, relative to the counter-clockwise direction through which the
plot should be rotated. Only angles which are multiples of 90 degrees
are acceptable, and thus the only valid values are 000., 090., -90.,
and 180.  This keyword is usable only by horizontal plots with polar
stereographic (POLSTR) projections.  Lat/lon labels will not be
printed on the perimenter of rotated plots.  Streamline plots,
trajectory plots, and box fields are not supported.
<p><b><i>save</i></b>: Save the specified diagnostic field(s) to a
file.  <p>Expects no values (logical), though one can be provided
(character); default is .<i>false</i>.; type is<i> F</i>.  <p>Purpose:
Sometimes, a diagnostic field may take some time to calculate.  It is
therefore some times desirable to save that field to a file, so that
upon subsequent requests for that field, it is simply read in rather
than recalculated. The <i>save</i> keyword causes RIP to save the
specified field(s) to a file. The file name will follow the same
format as the standard RIP data files. The last part of the file name
will be the same as the requested field (e.g.,
<i>myrun_024.00000_cap3</i> if <i>feld=cap3</i> was used). However, it
is also possible to explicitly assign the last part of the file name
by setting the <i>save</i> keyword equal to a character string. This
may be useful if the field was altered by a one of the keywords that
affects a field after it is calculated (e.g., <i>addf</i>,
<i>smcp</i>, <i>grad</i>, <i>lapl</i>, <i>hadv</i>, <i>diff</i>, etc.)
<p><b><i>sepa</i></b>: Sawyer-Eliassen diagnosis parameters.
<p>Expects 8 real values; defaults are as mentioned below; type is<i>
R</i>.  <p>Purpose: This defines several parameters that are used for
solving the Sawyer-Eliassen equation. Eight different parameters must
be set, though they each have a default value that is used if that
particular parameter is not set. The parameters are as follows:
<dir>
<dir>The first five parameters are relevant for either the moist or dry
S-E solver:
<p>1. Maximum number of iterations in the over-relaxation (default is 200)
<br>2. Minimum residual required for convergence (default is 1.0 m mb s<sup>-1</sup>)
<br>3. Over-relaxation factor (default value is 1.6)
<br>4. Averaging distance in the along-front (cross-section-normal) direction,
in grid spaces. This is similar to the <i>xavg</i> keyword that can be
used for other cross section plots; however, this parameter causes averaging
to be performed on fields from which the Sawyer-Eliassen equation terms
are calculated, rather than on the final field being plotted. The default
value is 0 (no averaging).
<br>5. Horizontal smoothing factor. This allows for horizontal smoothing
of the fields (interpolated to pressure levels) from which the Sawyer-Eliassen
equation terms are calculated. The smoothing factor is specified as a distance
in grid spaces, and represents the width of a simple triangle-shaped weighting
function for the smoother. The default is 0.0, or no smoothing.
<p>The last three parameters are relevant only for the moist S-E solver:
<p>6. The maximum number of "big" iterations allowed for "big" iteration
convergence. "Big" iteration convergence occurs when all points have the
same sign of vertical velocity for two consecutive "big" iterations. Default
is 15.
<br>7. The threshold relative humidity (as a percent value) used to determine
the type of stability (moist or dry) used at a grid point. Default is 80.
<br>8. Smoothing factor for effective stability. This is similar to the
horizontal smoothing factor described above, except it applies only to
the effective stability that is obtained after the moist or dry stability
is chosen at each grid point. Its purpose is to remove large stability
gradients across the zero vertical velocity line or the threshold relative
humidity line.
<p>If all the defaults are satisfactory, <i>sepa</i> need not be specified
at all. However, you will probably want to experiment with one or more
of the parameters. If this is the case, not all eight parameters need be
specified, but 7 commas must always be included, in order to define which
parameters are being changed. For example, if you want to change the minimum
error for convergence to 5.0, the horizontal smoothing factor to 2.5, and
the stability smoothing factor to 2.0, he would specify
<p><font face="Courier New,Courier">sepa=,5,,,2.5,,,2</font></dir>
</dir>
<b><i>sids</i></b>: Station IDs
<p>Expects an arbitrary number of character values; Default is no station
IDs; type is<i> F</i>.
<p>Purpose: For horizontal background plot <i>feld=sids</i>, which shows
requested station locations by plotting the requested station IDs at the
correct locations on the map background, the keyword <i>sids</i> is used
to pick the station IDs as 4-character upper-case
strings. Any number of station IDs can be requested, separated by commas.
Any station ID that is available in the <i>stationlist</i> file can be
used.
<p><b><i>sloc</i></b>: Sounding location
<p>Expects a variety of values; defaults are 3,3; type is<i> R</i>.
<p>Purpose: This sets the location (in the dot point domain) of either
a skew-T sounding or of a vertical profile plot. For an explanation of
location settings, see the description of <i>crsa</i>.
<p><b><i>smcp</i></b>: Number of constant-pressure smoothing passes.
<p>Expects 1 integer value; default is 0; type is<i> F</i>.
<p>Purpose: This specifies the number of constant-pressure smoothing passes.
It works the same as <i>smth</i> (see below), except that the data are
first interpolated to pressure levels, then the smoothing is carried out,
and then the data are interpolated back to sigma levels. Note: you cannot
use <i>smth</i> and <i>smcp</i> at the same time, you must choose one or
the other (or neither) for any given PSL.
<p><b><i>smth</i></b>: Number of smoothing passes.
<p>Expects 1 integer value; default is 0; type is<i> F</i>.
<p>Purpose: This specifies the number of smoothing passes. There are several
types of smoothers available:
<dir>
<dir>If <i>n</i> is between 1 and 99, then a 9-point weighted smoother
is applied <i>n</i> times. The smoother follows equation 11-107 in Haltiner
and Williams. One pass completely removes 2<font face="Symbol">d</font><i>x</i>
waves on the interior. On the outer row and column, and near missing data
points, smoothing is carried out in a manner that preserves the domain
average value of the field.
<p>If <i>n</i> is between 101 and 199, then a smoother-desmoother is applied
(<i>n</i> – 100) times. One pass removes a large fraction of the 2<font face="Symbol">d</font><i>x</i>
component, but is not as harsh on longer wavelengths as the 9-point smoother
<p>If <i>n</i> is between 201 and 299, then the smoother-desmoother is
applied (<i>n</i> – 200) times, and, after each pass, the data field is
forced to be non-negative.
<p>If <i>n</i> is between 301 and 399, then a weighted smoother is applied,
in which the smoothed value is given by a weighted average of values at
surrounding grid points. The weighting function is the Cressman weighting
function:
<p><img SRC="Image4.gif" height=60 width=125>
<p>In the above, <i>d</i> is the distance (in grid increments) of the neighboring
point to the smoothing point, and <i>D</i> is the radius of influence [in
grid increments, given by (<i>n</i> – 300)].
<p>If <i>n</i> is between 401 and 499, then the smoothing is similar for
<i>n
</i>=
301-399, except the weighting function is the circular aperture diffraction
function (following a suggestion of Barnes et al. 1996):
<p><img SRC="Image5.gif" height=56 width=186>
<p>If <i>n</i> is between 501 and 599, then the smoothing is similar for
<i>n
</i>=
301-399, except the weighting function is the product of the rectangular
aperture diffraction function in the <i>x</i> and <i>y</i> directions (the
function used in Barnes et al. 1996):
<p><img SRC="Image6.gif" height=55 width=226></dir>
</dir>
<b><i>sndg</i></b>: Print sounding parameters.
<p>Expects no values (logical); default is .<i>false</i>.; type is<i> F</i>.
<p>Purpose: This flag causes a variety of sounding parameters to be calculated
and printed out in the lower left corner of a skew-T sounding. It must
be used with <i>ptyp=sv</i>! It will not work with <i>ptyp=sc</i>! Also,
if a skew-T background is drawn on a sounding for which <i>sndg</i> was
used with a sounding vector (<i>ptyp=sv</i>) plot, <i>sndg</i> should also
be used on the plot specification line for the sounding background, so
that RIP will omit drawing skew-T background lines in the same area as
that where the sounding parameters are printed.
<p><b><i>strm</i></b>: Storm velocity
<p>Expects 1 or 2 real values; default is 0.0; type is<i> F</i>.
<p>Purpose: The storm velocity is used to plot storm-relative wind vectors,
speeds, or trajectories. The storm velocity can be specified in 2 ways.
The first way is as a speed which is assumed to be in the along-cross-section
(left to right) direction, where the cross section position is defined
by the keywords <i>crsa</i> and <i>crsb</i>. (See descriptions of keywords
<i>crsa</i>
and <i>crsb</i>.) The second way is by giving two values for
<i>strm</i>,
separated by a comma, which are the <i>x </i>and <i>y</i> components of
the storm velocity. In either case, the <i>x</i> and/or <i>y</i> components
of the storm motion will be subtracted from the <i>x</i> and/or
<i>y</i>
components of the wind prior to plotting. This keyword only effects the
following fields: <i>uuu</i>, <i>vvv, ugeo, vgeo, xptgeo, xntgeo, bvfsq,
spsq, wsp, wspk, wdir, xnt, amt, </i>and<i> xpt</i>; and the five trajectory
fields
<i>ribbon</i>,
<i>arrow</i>,
<i>circle</i>,
<i>swarm</i>, and <i>gridswarm</i>.
<p><b><i>time</i></b>: Time discriminator
<p>Expects an arbitrary number of real values; default is all times in
the <i>ptimes</i> (or <i>iptimes</i>) array; type is<i> F</i>.
<p>Purpose: This is a special keyword that should only appear by itself
in a PSL. It does not apply to a single plot, but rather to the entire
FSG that it is in. If you want a particular frame to be plotted only at
some of the times specified in the <i>ptimes</i> (or <i>iptimes</i>) array
in the namelist, then you can include the following line in the FSG for
that frame:
<p><font face="Courier New,Courier">time=<i>time1</i>,<i>time2</i>,<i>time3</i>,...</font>
<p>where each of <i>time1</i>, <i>time2</i>, <i>time3</i>, etc., are times,
specified as real numbers. Like the values given for the <i>ptimes</i>
(or <i>iptimes</i>) array in the namelist, the values of time should be
in hours, but do not need to be whole numbers. If a <i>time=</i> PSL is
included in the FSG, then RIP will only draw that frame for those model
output times that are within <i>tacc</i> seconds of one of the times in
the <i>ptimes</i> (or <i>iptimes</i>) array AND are within <i>tacc</i>
seconds of one of the times in the <i>time</i>= setting.
<p><b><i>titl</i></b>: Plot title
<p>Expects 1 character string; default is that RIP automatically generates
the tile for each plot overlay; type is<i> F</i>.
<p>Purpose: Normally, RIP automatically generates a title for each plot
overlay at the top of the frame underneath the frame title. You can specify
your own title for a plot overlay using <i>titl</i>. Because blank characters
are not recognized in the plot specification table, you must use the underscore
character to indicate that you want a blank character at a particular position
in your specified plot title. <i>titl</i> also has another special use:
it can be used to print any message at any location on the plot by using
it in conjunction with <i>feld=bull</i>.
<p><b><i>tjar</i></b>: Arrow widths for trajectory plots
<p>Expects 1 or 2 real values; defaults are .003 and .035; type is<i> F</i>.
<p>Purpose: <i>ribbon</i> and <i>arrow</i> trajectories in horizontal plots
use variable-width arrow heads, where the width of the arrow head indicates
the height of the trajectory. The two values of <i>tjar</i> specify the
widths (as a fraction of the total screen width) that correspond to the
lowest and highest (height-wise) values, respectively, of the vertical
window, as specified by <i>vwin</i>. For the <i>feld=circle </i>trajectories,
only one value is expected for <i>tjar</i>, and it represents the radius
of a circle corresponding to the net ascent specified by <i>vwin</i>. For
trajectories in a cross section (vertical trajectory plots), there is no
variable width feature, so only one value is expected for <i>tjar</i>;
if no value is specified, .035 is the default.
<p><b><i>tjen</i></b>: End time (in forecast hour) of plotted trajectories.
<p>Expects 1 real value; default is the final time of the calculated trajectory;
type is<i> F</i>.
<p>Purpose: This specifies the last time (i.e. the time corresponding to
the head) of the plotted trajectory. For <i>feld=circle</i> trajectories,
this specifies the time at which the circle is plotted, which is also the
end time for the period during which net ascent is calculated. Note that
<i>tjen</i>
may be less than or equal to the actual end time of the calculated trajectory.
<p><b><i>tjfl</i></b>: File name of trajectory position info.
<p>Expects 1 character value; default is <i>junk</i> (i.e. a useless value);
type is<i> F</i>.
<p>Purpose: This specifies the name of the file containing trajectory position
information for the trajectories you want to plot. This file should already
exit, since it should have already been created by a previous RIP run in
trajectory calculation mode.
<p><b><i>tjid</i></b>: ID numbers of trajectories to be plotted.
<p>Expects an arbitrary number of real values; default is a single value
of 1.0; type is<i> F</i>.
<p>Purpose: This specifies the ID numbers of the desired trajectories.
For the trajectory fields ribbon, <i>arrow</i>, <i>circle</i>, or <i>swarm</i>,
this keyword should be set in a manner similar to the way the <i>levs</i>
keyword is set for requesting vertical levels. See the description of the
keyword <i>levs</i> for more details. For example, a setting of
<p><font face="Courier New,Courier">tjid=1,3,8,9,-27,6,32;</font>
<p>would result in the plotting of trajectory numbers 1,3,8,9,15,21,27,
and 32. For a trajectory <i>gridswarm</i>, it is assumed that a part or
all of the trajectories in the position file have been defined such that
they are arranged in a column-oriented 2-D array. In this case, the <i>tjid</i>
keyword must contain three and only three values: the first value is the
ID of the trajectory that is the starting point for the array; the second
value is the number of rows; the third value is the number of columns.
<p><b><i>tjsp</i></b>: Storm position for storm-relative trajectories.
<p>Expects an arbitrary number of real values, in sets of three; default
is such that this keyword is not set to anything, disabling its effect;
type is<i> F</i>.
<p>Purpose: Trajectories can be plotted in a storm-relative sense. In order
to do this, RIP needs to know where the storm is. This information is provided
through either the <i>tjsp</i> keyword or the <i>strm</i> keyword. If the
storm motion can be approximated by a constant speed and direction, then
using the <i>strm</i> keyword is easiest. See the explanation of keyword
<i>strm</i>.
If the storm motion is more complicated, then <i>tjsp</i> must be used.
Each set of three values is a time (in model forecast hours), an <i>x</i>
value, and a <i>y</i> value. Use as many sets as you need to cover the
period of interest and to sufficiently resolve the storm motion. RIP linearly
interpolates in time and space to get the storm position between the provided
times. An IMPORTANT rule is that the <i>x</i> and <i>y</i> values must
be relative to the coarsest domain grid (the domain which is centered on
the central lat. and lon.). This is to accommodate the possibility that
the data set you are working with is from a moving nest. When storm-relative
trajectories are plotted (by either method) against other fields or a map
background, the only point along the trajectory that is actually where
it appears to be (relative to those other fields) is the point that corresponds
to the time being plotted. If <i>tjsp</i> is used, RIP marks the storm
position at the time being plotted with an "L", although this feature can
be disabled with the keyword <i>nohl</i>.
<p><b><i>tjst</i></b>: Start time (in forecast hour) of plotted trajectories.
<p>Expects 1 real value; default is the beginning time of the calculated
trajectory; type is<i> F</i>.
<p>Purpose: This specifies the first time (i.e. the time corresponding
to the tail) of the plotted trajectory. For <i>feld=circle</i> trajectories,
this specifies the beginning time for the period during which net ascent
is calculated. Note that <i>tjst</i> may be greater than or equal to the
actual start time of the calculated trajectory.
<p><b><i>tjti</i></b>: Time interval for plotted trajectories, in hours.
<p>Expects 1 real value; default is 1 hour; type is<i> F</i>.
<p>Purpose: This specifies the time interval between arrow heads for arrow
or ribbon trajectories, or between swarms for swarm or gridswarm trajectories.
Note that this is typically greater than the time step used to calculate
the trajectories.
<p><b><i>tshl</i></b>: Text size for high/low labels.
<p>Expects 1 real value; default is the value of <i>tslb</i>; type is<i>
F</i>.
<p>Purpose: In contour plots, this sets the text size for high/low labels,
if it is to be different from <i>tslb</i>. For trajectories, this sets
the text size of the "L" marking the storm position for storm-relative
trajectories. Any color name that is defined in the color table is valid.
<p><b><i>tslb</i></b>: Text size for labels
<p>Expects 1 real value; default is .01; type is<i> F</i>.
<p>Purpose: This sets the text size (i.e. character width) for labels,
as a fraction of the width of the full plotting screen. It applies to contour
labels, lat/lon labels (in maps), perimeter tick mark labels, and trajectory
labels.
<p><b><i>v5nm</i></b>: Variable name for Vis5D
<p>Expects 1 character string; default is whatever was specified for <i>feld</i>;
type is<i> F</i>.
<p>Purpose: In Vis5D data set preparation mode (i.e., if <i>imakev5d</i>=1
in the <i>&amp;userin</i> namelist), RIP assigns to each requested variable
a name that will identify that variable when Vis5D is run. For the velocity
fields, the Vis5D names are always <i>U</i>, <i>V</i>, and <i>W</i>. For
all other variables, the name is the same as what was requested with the
<i>feld</i>
keyword. However, in some cases, you may want to assign a different name.
Use <i>v5nm</i> to do this. This keyword should only be used when RIP is
run in Vis5D data set preparation mode.
<p><b><i>vcmx</i></b>: Maximum vector value
<p>Expects 1 real value; default is 0.; type is<i> F</i>.
<p>Purpose: This specifies the magnitude of a vector that exactly reaches
the tail of the next adjacent vector. It should be specified in the same
units as those of the vector component fields, typically m s<sup>-1</sup>.
If <i>vcmx</i> is set to zero, then RIP will choose the maximum vector
magnitude in the data as the magnitude of a vector that reaches the tail
of the next adjacent vector.
<dir>
<dir>Special instructions for different plot types:
<p><i>ptyp=hv</i> or <i>vw</i>: If <i>vcmx</i> is specified as any negative
number, then the vectors will be plotted with the barb/flag convention.
<p><i>ptyp=sv</i>: these vectors can only be plotted with the barb/flag
convention, so <i>vcmx</i> is irrelevant.
<p><i>ptyp=vv</i>: the "next adjacent vector" means the next adjacent vector
in the horizontal direction, and <i>vcmx</i> should be specified in units
of the horizontal components, which will probably be different from the
units of the vertical component. Some experimentation may be required to
get a feel for this keyword in vertical vector mode. These vectors can
only be plotted as arrows, not as wind barbs, because the units in the
horizontal and vertical directions are different.</dir>
</dir>
<b><i>vcor</i></b>: Vertical coordinate
<p>Expects 1 character value of length 1; default is s; type is<i> R</i>.
<p>Purpose: This defines the vertical coordinate to be used for (1) determining
plotting levels in horizontal plots; or (2) defining the vertical axis
in cross section plots; or (3) defining the variable width feature of <i>arrow,
ribbon </i>or <i>circle </i>trajectories drawn in horizontal plots. The
possible choices for the different types of plots are:
<blockquote>Horizontal plots or trajectory initial points:
<p><i>s</i>: sigma
<br><i>p</i>: pressure
<br><i>z</i>: height
<br><i>t</i>: potential temperature
<br><i>e</i>: equivalent potential temperature
<p>Vertical cross sections (excluding <i>ptyp=vv</i>) or horizontal trajectory
plots:
<p><i>s</i>: sigma
<br><i>p</i>: pressure
<br><i>x</i>: Exner function (as in pseudoadiabatic charts)
<br><i>l</i>: log pressure
<br><i>z</i>: height
<br><i>t</i>: potential temperature
<br><i>e</i>: equivalent potential temperature
<p>Vectors in the plane of a cross section (<i>ptyp=vv</i>):
<p><i>s</i>: sigma
<br><i>p</i>: pressure
<br><i>z</i>: height
<p>(These are the only choices for <i>ptyp=vv</i> because they are the
only vertical coordinates for which RIP can calculate an appropriate vertical
velocity).</blockquote>
<b><i>vvms</i></b>: Minimum sigma between vectors for cross sections and
soundings
<p>Expects 1 real value; default is 0.0; type is<i> F</i>.
<p>Purpose: This specifies the minimum sigma increment between two vectors
in a column. Due to the fact that the data are not interpolated to a regular
grid in the vertical, the vectors can become crowded in the high-resolution
PBL. If this keyword is set to some non-zero value, for example .3, then
RIP will not plot a vector if it is less than .3 "sigma units" away from
the vector below it.
<p><b><i>vvnx</i></b>: Number of vectors in the <i>x</i>-direction
<p>Expects 1 integer value; default is 20; type is<i> F</i>.
<p>Purpose: This specifies an approximate number of vectors that are desired
in the horizontal direction. It is approximate because of the way RIP sets
up the cross section grid.
<p><b><i>vwin</i></b>: Vertical window.
<p>Expects 1 or 2 real values; default is as shown below; type is<i> R</i>.
<p>Purpose: This determines the vertical window to use for cross sections,
or for the variable width feature of trajectories in a horizontal plot.
The first value is the bottom of the window, and the second is the top.
The units of the given values are assumed to be as follows:
<center><table BORDER WIDTH="62%" >
<tr>
<td><b><i>vcor</i></b></td>

<td><b>Units</b></td>

<td><b>Default values for vertical cross sections</b></td>
</tr>

<tr>
<td><b>'</b>s'</td>

<td>dimensionless</td>

<td>1.0,0.0</td>
</tr>

<tr>
<td>'p','l', or 'x'</td>

<td>mb</td>

<td>1050, pressure at top of model</td>
</tr>

<tr>
<td>'z'</td>

<td>km</td>

<td>0.0,15.0</td>
</tr>

<tr>
<td>'t'</td>

<td>K</td>

<td>260,400</td>
</tr>

<tr>
<td>'e'</td>

<td>K</td>

<td>260,400</td>
</tr>
</table></center>

<blockquote>For horizontal trajectory plots, the default values are the
minimum and maximum values of the trajectories being plotted during the
time interval set by <i>tjst</i> and <i>tjen</i>. For <i>feld=circle</i>
trajectory plots, only one value of <i>vwin</i> is expected, and it specifies
the net ascent that corresponds to the circle radius specified by <i>tjar</i>;
if no value is specified, the maximum absolute net ascent for all the trajectories
requested is the default value.</blockquote>

<p><br><b><i>wdbr</i></b>: XXXXX Distance between label bar and plot for
filled contour plots
<p>Expects 1 real value; default is .07; type is<i> F</i>.
<p>Purpose: For color-filled contour plots, RIP creates a label bar which
shows what values correspond to what colors. This bar may appear on either
the bottom or right side of the plot, depending on the plot aspect ratio.
<i>dsbr</i>
sets the distance between the edge of the plot and the label bar. The default
value is usually sufficient for typical plots, i.e. it is large enough
to allow room for tick labels and lat/lon labels. However, in some cases,
you may want to change this distance, if various messages or labels from
other plots are being covered up by the label bar.
<p><b><i>xavg</i></b>: cross-section averaging distance
<p>Expects 1 integer value; default is 0; type is<i> F</i>.
<p>Purpose: Rather than plotting the value of a variable at a point on
the cross section, you may want to plot an average along a line that extends
into and out of the cross section. This may be useful for getting the average
sense of quasi-2D features such as fronts or squall lines. The averaging
distance into and out of the cross section is given by <i>xavg</i> in units
of grid points. Hence, if the grid space is 40 km, and <i>xavg</i> is specified
as 2, each point plotted on the cross section would represent an average
from 80 km out of the cross section to 80 km into the cross section, or
a total of 160 km.
<p><b><i>xwin</i></b>: Plotting window in the x direction
<p>Expects 2 integer values; defaults are 1, <i>mjx</i> (<i>mjx</i> is
the number of dot points in the <i>x</i> (or <i>j</i>) direction); type
is<i> R</i>.
<p>Purpose: This sets the left and right limits of the desired subdomain
for a horizontal plot, specified as grid point values on the dot-point
domain. If the first values given is outside the range 1 to <i>mjx</i>,
it is changed to 1. If the second values given is outside the range 1 to
<i>mjx</i>,
it is changed to <i>mjx</i>. This can also be used to save a reduced-size
domain when creating a Vis5D data set (<i>imakev5d</i>=1), in which case
it should be specified only once, with the first requested variable.
<p><b><i>ywin</i></b>: Plotting window in the y direction
<p>Expects 2 integer values; defaults are 1, <i>miy </i>(<i>miy</i> is
the number of dot points in the <i>y</i> (or <i>i</i>) direction); type
is<i> R</i>.
<p>Purpose: This sets the bottom and top limits of the desired subdomain
for a horizontal plot, specified as grid point values on the dot-point
domain. If the first values given is outside the range 1 to <i>miy</i>,
it is changed to 1. If the second values given is outside the range 1 to
<i>miy</i>,
it is changed to <i>miy</i>. This can also be used to save a reduced-size
domain when creating a Vis5D data set (<i>imakev5d</i>=1), in which case
it should be specified only once, with the first requested variable.
<p><a NAME="fields"></a><b>Appendix B. Available fields for plotting</b>
<p>This appendix is a list of all fields that are currently available to
be plotted in RIP, i.e. the names that can be used for the <i>feld</i>
keyword. For each field, the name is given, the field is described, the
units are given, and the dimensionality of the field (2D or 3D) is given.
Capital letters in the field name indicate a variable character for which
there is more than one choice.
<p><i>a. Background fields (units and dimensionality are irrelevant):</i>
<p><b><i>map</i></b>: Map background. This field results in a map background
being drawn in the frame. Works only if <i>ptyp=hb</i>.
<p><b><i>box</i></b>: Box. This field results in a box being drawn in the
frame, the size and location of which is determined by the keywords <i>crsa</i>
and <i>crsb</i>. Works only if <i>ptyp=hb</i>.
<p><b><i>line</i></b>: Line. This field results in a line being drawn in
the frame, the size and location of which is determined by the keywords
<i>crsa</i>
and <i>crsb</i>. Works only if <i>ptyp=hb</i>.
<p><b><i>bullet</i></b>: Bullet. This field results in the drawing of a
bullet (i.e., a solid circle), the location of which is determined by the
keyword <i>crsa</i>. It can also be used to write any text string on the
plot at the location specified by <i>crsa</i>. This is accomplished by
setting the <i>titl</i> keyword equal to the desired text string. Use the
underscore character to represent blank characters in the text string.
Works only if <i>ptyp=hb</i>.
<p><b><i>sids</i></b>: Station IDs. This field results in the labeling
of a station or stations on the plot. Use the <i>sids</i> keyword in conjunction
with <i>feld=sids</i> to list the station(s) you want to be shown on the
plot. See the description of <i>sids </i>in Appendix A for more information.
Works only if <i>ptyp=hb</i>.
<p><b><i>tic</i></b>: Tick mark background. This field results in the drawing
of helpful markings on the plot. It works in conjunction with the following
<i>ptyp</i>
settings:
<dir><i>ptyp=hb</i>: The perimeter is marked on all four sides with tick
marks and labels denoting grid points.
<br><i>ptyp=vb</i>: The left and right perimeters are marked with tick
marks and labels denoting vertical coordinate increments. The bottom and
top perimeters are marked with tick marks and labels denoting distance
along the cross section.
<br><i>ptyp=sb</i>: A standard skew-T grid is drawn and labeled, including
pressure levels, temperature contours, adiabats, pseudoadiabats, and mixing
ratio contours.</dir>
<i>b. Model output and diagnostic fields (listed in alphabetical order):</i>
<p><b><i>amt</i></b>: Absolute momentum, m s<sup>-1</sup>. (3D)
<blockquote>Absolute momentum is defined here as the horizontal wind component
normal to, and out of, the cross section (as defined by the <i>crsa</i>
and <i>crsb</i> keywords) minus <i>f</i> (at the middle of the cross section),
all times the left-to-right distance along the cross-section.</blockquote>
<b><i>arrow</i></b>: Trajectory arrows (see section 7 for more details).
<p><b><i>avo</i></b>: Absolute vorticity (vertical component), s<sup>-1</sup>.
(3D)
<p><b><i>bocX</i></b>: Surface precipitation type probability, percent.
(2D)
<blockquote>The precipitation type probability is calculated according
to the REEP method of Bocchieri (1980). It uses the sounding of temperature
and wet bulb temperature to determine the probabilities. Replace <i>X</i>
with <i>l</i> for probability of liquid precipitation, <i>f</i> for probability
of freezing precipitation, or <i>i</i> for probability of ice (or frozen)
precipitation.</blockquote>
<b><i>brnshr</i></b>: Bulk Richardson number shear as in Stensrud et al.
(1997), m<sup>2</sup>s<sup>-2</sup>. (2D)
<p><b><i>bvfsqP</i></b>: Dry Brunt-Vaisala frequency, s<sup>-1</sup>. (3D)
<blockquote><i>P</i> determines the inclusion of moist physics in the calculation
of the B-V frequency: <i>d</i> for dry, <i>l</i> for liquid-only latent
heating/cooling considerations, and <i>i</i> for liquid and ice latent
heating/cooling considerations.</blockquote>
<b><i>cap3</i></b>: Convective available potential energy (CAPE) of parcels
at all 3D grid points, J kg<sup>-1</sup>. (3D)
<blockquote>In this diagnostic field, CAPE is calculated for every grid
point in the entire 3D domain, based on the lifting of a parcel starting
from that grid point. It is defined as the accumulated buoyant energy from
the LFC to the equilibrium level. To get CAPE as a 2D field, showing CAPE
only from the parcel in each column with maximum <font face="Symbol">q</font><sub>e</sub>
below 3000 m AGL, use <i>mcap</i>.</blockquote>
<b><i>cat</i></b>: Clear-air turbulence index, s<sup>-2</sup>. (3D)
<blockquote>This index is based on Ellrod and Knapp (1992, <i>W&amp;F</i>,
March issue).</blockquote>
<b><i>cin3</i></b>: Convective inhibition (CI) of parcels at all 3D grid
points, J kg<sup>-1</sup>. (3D)
<blockquote>In this diagnostic field, CI is calculated for every grid point
in the entire 3D domain, based on the lifting of a parcel starting from
that grid point. It is defined as the accumulated negative buoyant energy
from the parcel starting point to the LFC. To get CI as a 2D field, showing
CI only from the parcel in each column with maximum <font face="Symbol">q</font><sub>e</sub>
below 3000 m AGL, use <i>mcin</i>.</blockquote>
<b><i>circle</i></b>: Net ascent circles (a type of trajectory representation,
see section 7 for more details).
<p><b><i>clgX</i></b>: Cloud ceiling, m. (2D)
<blockquote>Regardless of whether or not mixed phase microphysics were
used, there are three possibilities to choose from for the determination
of the phase of cloud and precipitation hydrometeors: Replace <i>X</i>
with <i>d</i> for the 0 <font face="Symbol">&deg;</font>Celsius assumption,
<i>b</i>
for the Bocchieri assumption, or <i>r</i> for the mixed phase assumption.
See code for details of these assumptions.</blockquote>
<b><i>condheat,condheati</i></b>: Diagnosed condensational heating, K h<sup>-1</sup>.
(3D)
<blockquote><i>condheat</i> calculates the heating due to condensation
in regions of explicitly resolved saturated ascent. <i>condheati</i> does
the same, except it adds in the latent heat of fusion in regions that are
below freezing.</blockquote>
<b><i>cor</i></b>: Coriolis factor, s<sup>-1</sup>. (2D)
<p><b><i>ctt</i></b>: Cloud-top temperature, <font face="Symbol">&deg;</font>C.
(2D)
<blockquote>Note: cloud-top temperature is calculated by interpolating
the temperature to the level of unit optical depth into the cloud (starting
at the model top). Expressions for absorption cross-section for cloud ice
and cloud water are obtained from Dudhia (1989).</blockquote>
<b><i>dbz</i></b>: Simulated radar reflectivity, dBZ. (3D)
<blockquote>This field calculates a simple simulated radar reflectivity,
based on the mixing ratios of rain, snow, and graupel (if available). The
formulas that relate mixing ratios of rain, snow, and graupel to reflectivity
factor were derived assuming Marshall-Palmer size distributions consistent
with what is used in MM5.</blockquote>
<b><i>div</i></b>: Divergence (of horizontal wind), s<sup>-1</sup>. (3D)
<p><b><i>dmap</i></b>: Map factor on dot points, dimensionless. (2D)
<p><b><i>dpbhAAABBB</i></b>: Pressure difference between height levels,
hPa. (2D)
<blockquote>This field is similar to, but the precise opposite of, thickness,
which is the height difference between pressure levels. The two levels
are specified as three-digit integers in units of hectometers (hm). For
example, <i>feld=dpbh015120</i> would give the pressure at 1.5 km AMSL
minus the pressure at 12.0 km AMSL.</blockquote>
<b><i>dthtedz</i></b>: Convective (or potential) instability, expressed
as the partial derivative of <font face="Symbol">q</font><sub>e</sub> with
respect to height, K km<sup>-1</sup>. (3D)
<p><b><i>eth</i></b>: Equivalent potential temperature, K. (3D)
<p><b><i>ethmx</i></b>: Maximum value of equivalent potential temperature
below 3000 m AGL, K. (2D)
<p><b><i>extXY</i></b>: Surface extinction coefficient due to hydrometeors,
km<sup>-1</sup>. (2D)
<blockquote>Regardless of whether or not mixed phase microphysics were
used, there are three possibilities to choose from for the determination
of the phase of cloud and precipitation hydrometeors: Replace <i>X</i>
with <i>d</i> for the 0 <font face="Symbol">&deg;</font>Celsius assumption,
<i>b</i>
for the Bocchieri assumption, or <i>r</i> for the mixed phase assumption.
See code for details of these assumptions. The extinction coefficient is
calculated for only one of the four hydrometeor types at a time: Replace
<i>Y</i>
with <i>c</i> for extinction due to cloud water, <i>r</i> for extinction
due to rain,
<i>i</i> for extinction due to cloud ice, or <i>s</i> for
extinction due to snow.</blockquote>
<b><i>fregWX</i></b>: Flight regulation. (2D)
<blockquote>This field will assign a number from 1 to 4 to each grid point.
It should therefore be plotted with the setting of <i>ptyp=hh</i>. The
numbers correspond to the following flight regulation categories:
<p>1: Visual Flight Regulation (VFR)
<br>2: Marginal Visual Flight Regulation (MVFR)
<br>3: Instrument Flight Regulation (IFR)
<br>4: Low Instrument Flight Regulation (LIFR)
<p>It can be calculated based on model-diagnosed ceiling, visibility, or
both. Replace <i>W</i> with <i>c</i> for ceiling only, <i>v</i> for visibility
only, or <i>b</i> for both.
<p>Regardless of whether or not mixed phase microphysics were used, there
are three possibilities to choose from for the determination of the phase
of cloud and precipitation hydrometeors: Replace <i>X</i> with d for the
0 <font face="Symbol">&deg;</font>Celsius assumption, <i>b</i> for the
Bocchieri assumption, or <i>r</i> for the mixed phase assumption. See code
for details of these assumptions.</blockquote>
<b><i>frgmXXX</i></b>: Frontogenesis, Miller form, K (100 km h)<sup>-1</sup>.
(3D)
<blockquote>The Miller form of frontogenesis is the Lagrangian time rate
of change of the absolute value of the horizontal gradient of potential
temperature. <i>XXX</i> specifies which term on the RHS of the Miller frontogenesis
equation is desired:
<p><i>div</i>: divergence term
<br><i>def</i>: deformation term
<br><i>dia</i>: diabatic term
<br><i>til</i>: titling term
<p>The diabatic term uses a diagnosis of condensational heating assuming
maintenance of 100% RH with respect to liquid water in regions of explicitly
resolved saturated ascent. It does not include evaporative, sublimational,
or melt cooling; fusional or depositional heating; or any diabatic results
of either the cumulus or PBL parameterization schemes.
<p>You can also request the horizontal or vertical advective terms (i.e.,
the advection of the absolute value of the horizontal gradient of potential
temperature) by specifying <i>XXX</i> as either <i>had</i> or <i>vad</i>.</blockquote>
<b><i>frg2dXXX</i></b>: Frontogenesis, 2D frontal zone form, K (100 km
h)<sup>-1</sup>. (3D)
<blockquote>The 2D form of frontogenesis examines the Lagrangian time rate
of change of the along-cross-section component of the horizontal gradient
of potential temperature. Regardless of whether you want to display the
result in a cross section or in a horizontal plot, use <i>crsa</i> and
<i>crsb</i>
to define the endpoints of a cross section (and, thus, the along-cross-section
direction). <i>XXX</i> specifies which term on the RHS of the uni-directional
frontogenesis equation is desired:
<p><i>cnf</i>: confluence term
<br><i>shr</i>: shear term
<br><i>dia</i>: diabatic term
<br><i>til</i>: titling term
<p>The diabatic term uses a diagnosis of condensational heating assuming
maintenance of 100% RH with respect to liquid water in regions of explicitly
resolved saturated ascent. It does not include evaporative, sublimational,
or melt cooling; fusional or depositional heating; or any diabatic results
of either the cumulus or PBL parameterization schemes.
<p>You can also request the advective terms (i.e., the advection of the
along-cross-section component of the horizontal gradient of potential temperature)
by specifying <i>XXX</i> as either <i>aad</i>, <i>iad</i>, or or
<i>vad</i>.
These refer to the advection along the cross section, the advection into
the cross section, and the vertical advection, respectively. For the two
horizontal advective terms, you can specify a wind speed and direction
with the <i>strm</i> keyword so that relative winds will be used in the
advective calculation.
<p>Finally, all of the fields that are used to calculate the above terms
can be smoothed on constant-pressure surfaces prior to the computing of
products in the nonlinear terms, by using the <i>qgsm</i> keyword.</blockquote>
<b><i>ght</i></b>: Geopotential height, m. (3D)
<p><b><i>intcld</i></b>: Column-integrated cloud water, mm. (2D)
<blockquote>This is the column-integrated value of the field <i>qcl</i>.</blockquote>
<b><i>intpcp</i></b>: Column-integrated precipitation mass, mm. (2D)
<blockquote>This is the column-integrated value of the field <i>qpr</i>.</blockquote>
<b><i>lcl</i></b>: Lifted condensation level (LCL), m (AGL). (2D)
<blockquote>This is the LCL for the parcel in each column with maximum
<font face="Symbol">q</font><sub>e</sub>
below 3000 m AGL.</blockquote>
<b><i>lfc</i></b>: Level of free convection (LFC), m (AGL). (2D)
<blockquote>This is the LFC for the parcel in each column with maximum
<font face="Symbol">q</font><sub>e</sub>
below 3000 m AGL.</blockquote>
<b><i>mcap</i></b>: Maximum convective available potential energy (MCAPE),
J kg<sup>-1</sup>. (2D)
<blockquote>This is the CAPE for the parcel in each column with maximum
<font face="Symbol">q</font><sub>e</sub>
below 3000 m AGL.</blockquote>
<b><i>mcin</i></b>: Convective inhibition (CI) for MCAPE parcel, J kg<sup>-1</sup>.
(2D)
<blockquote>This is the CI for the parcel in each column with maximum <font face="Symbol">q</font><sub>e</sub>
below 3000 m AGL.</blockquote>
<b><i>omg</i></b>: Omega (<i>dp/dt</i>), <font face="Symbol">m</font> bar
s<sup>-1</sup>. (3D)
<p><b><i>pcpw</i></b>: Precipitable water, mm. (2D)
<p><b><i>ppt</i></b>: Pressure perturbation, mb. (3D)
<p>The perturbation is with respect to the reference state, as defined
by the keyword <i>rfst</i>.
<p><b><i>prs</i></b>: Pressure, mb. (3D)
<p><b><i>pstd</i></b>: P-star (i.e., <i>p* </i>= <i>p</i><sub><font size=-2>SFC</font></sub>
- <i>p</i><sub><font size=-2>TOP</font></sub>) on dot points, mb. (2D)
<p><b><i>pstx</i></b>: P-star (i.e., <i>p* </i>= <i>p</i><sub><font size=-2>SFC</font></sub>
- <i>p</i><sub><font size=-2>TOP</font></sub>) on cross points, mb. (2D)
<p><b><i>pvm</i></b>: Moist potential vorticity (hydrostatic form), PVU.
(3D)
<p><b><i>pvo</i></b>: Potential vorticity (hydrostatic form), PVU. (3D)
<p><b><i>qci</i></b>: Cloud ice mixing ratio, g kg<sup>-1</sup>. (3D)
<blockquote>Note: If non-mixed-phase microphysics was used, this field
contains the model output cloud water only where <i>T </i>&lt; 0
<font face="Symbol">&deg;</font>C,
and is zero where <i>T</i> > 0 <font face="Symbol">&deg;</font>C.</blockquote>
<b><i>qcl</i></b>: Total cloud mixing ratio, g kg<sup>-1</sup>. (3D)
<blockquote>Note: This is just <i>qcw </i>+ <i>qci</i>.</blockquote>
<b><i>qcw</i></b>: Cloud water mixing ratio, g kg<sup>-1</sup>. (3D)
<blockquote>Note: If non-mixed-phase microphysics was used, this field
contains the model output cloud water where <i>T</i> > 0 <font face="Symbol">&deg;</font>C,
and is zero where <i>T </i>&lt; 0 <font face="Symbol">&deg;</font>C.</blockquote>
<b><i>qgomfNNN</i></b>: Full omega (subjected to same processing as QG
omega), <font face="Symbol">m</font> bar s<sup>-1</sup>. (3D)
<blockquote>This field is, in principle, the same as <i>feld=omg</i>, except
it subjects the full omega (i.e., <i>dp</i>/<i>dt</i>) field to the same
processing as the input fields to QG omega, thus allowing for a meaningful
comparison between full omega and QG omega. The actions that <i>qgomf</i>
are subjected to are an interpolation to a pressure-level grid, a smoothing
on that grid (as determined by the value of the keyword <i>qgsm</i>---see
the explanation for <i>qgomg</i> below and the explanation for <i>qgsm</i>
in Appendix A), and an interpolation back to the sigma-level grid.</blockquote>
<b><i>qgomgNNN</i></b> or <b><i>qmomgNNNRR</i></b>: Quasi-geostrophic omega,
<font face="Symbol">m</font>
bar s<sup>-1</sup>. (3D)
<blockquote>This field is calculated by means of a 3-D inversion (using
over-relaxation) of the <i>Q</i>-vector form of the quasigeostrophic omega
equation, using the domain average Coriolis parameter and vertical stability
profile. It is performed on a pressure-level grid, with an irregular lower
boundary that matches (as closely as possible) the model topography. The
lower boundary condition includes both a topographic BC and an Ekman BC.
The three <i>N’</i>s correspond to the <i>Q</i>-vector forcing, the topographic
boundary condition, and the Ekman boundary condition, respectively. Each
of the N’s should be replaced with either a 1 or 0, to indicate that the
corresponding forcing is included or excluded in the omega equation inversion.
For example, <i>feld=qgomg101</i> would request QG omega calculated from
the <i>Q</i>-vector forcing, including the Ekman boundary condition but
not the topographic boundary condition. The difference between ‘<i>qg</i>’
and ‘<i>qm</i>’ is that in the former case, the dry static stability is
used everywhere, whereas in the latter case, the moist static stability
is used where the relative humidity exceeds a threshold value. The threshold
value is specified by replacing ‘<i>RR</i>’ with a two digit percent value
ranging from 00 to 99.
<p>Note: The first step that RIP takes in calculating this field is the
interpolation of geopotential height and specific volume to pressure levels.
Following that step, but prior to calculating the <i>Q</i>-vector, it is
likely that you'll want to have those fields smoothed, so that they represent
synoptic or meso-alpha scales. This cannot be accomplished by using <i>smth</i>
or <i>smcp</i>, because the smoothing must occur prior to the <i>Q</i>-vector
calculation. A special capability has been set up to do this intermediate
smoothing. It is accomplished by setting the value of the keyword <i>qgsm</i>
to a value that indicates the desired number of smoothing passes, as described
for the keyword <i>smth</i>. So, for example, if you want the intermediate
pressure-level fields to be smoothed with 4 passes of the smoother-desmoother,
then use <i>qgsm</i>=104.</blockquote>
<b><i>qgr</i></b>: Graupel mixing ratio (if available as a separate RIP
data file), g kg<sup>-1</sup>. (3D)
<p><b><i>qpr</i></b>: Total precipitation hydrometeor mixing ratio, g kg<sup>-1</sup>.
(3D)
<blockquote>Note: This is just <i>qra </i>+ <i>qsn (</i>+ <i>qgr</i> if
available).</blockquote>
<b><i>qra</i></b>: Rain water mixing ratio, g kg<sup>-1</sup>. (3D)
<blockquote>Note: If non-mixed-phase microphysics was used, this field
contains the model output rain water only where <i>T</i> > 0
<font face="Symbol">&deg;</font>C.,
and is zero where <i>T</i> &lt; 0 <font face="Symbol">&deg;</font>C.</blockquote>
<b><i>qsn</i></b>: Snow mixing ratio, g kg<sup>-1</sup>. (3D)
<blockquote>Note: If non-mixed-phase microphysics was used, this field
contains the model output rain water only where <i>T</i> &lt; 0
<font face="Symbol">&deg;</font>C,
and is zero where <i>T</i> > 0 <font face="Symbol">&deg;</font>C.</blockquote>
<b><i>qvdiv</i></b>: Divergence of the Q-vector, 10<sup>-12</sup> s<sup>-3</sup>
mb<sup>-1</sup>. (3D)
<blockquote>Note: See the note on intermediate smoothing under the description
of the field <i>qgomg</i>, above.</blockquote>
<b><i>qvp</i></b>: Water vapor mixing ratio, g kg<sup>-1</sup>. (3D)
<p><b><i>qvx</i></b>: <i>x</i>-component of the <i>Q</i>-vector, 10<sup>-6</sup>
m s<sup>-3</sup> mb<sup>-1</sup>. (3D)
<blockquote>Note: See the note on intermediate smoothing under the description
of the field <i>qgomg</i>, above.</blockquote>
<b><i>qvy</i></b>: <i>y</i>-component of the <i>Q</i>-vector, 10<sup>-6</sup>
m s<sup>-3</sup> mb<sup>-1</sup>. (3D)
<blockquote>Note: See the note on intermediate smoothing under the description
of the field <i>qgomg</i>, above.</blockquote>
<b><i>rSSST</i></b>: Accumulated rainfall (or more generally, precipitation),
mm. (2D)
<blockquote><i>SSS</i> determines the source of the precipitation you're
interested in: <i>cum</i> for cumulus parameterization precipitation, <i>exp</i>
for explicitly resolved precipitation, and <i>tot</i> for the sum of cumulus
and explicit. <i>T</i> (which will actually be two or more characters in
length) determines the desired accumulation time period. If it is of the
form <i>Nh</i>, where <i>N</i> is a time period in hours specified either
as an integer or as a real number, then RIP will interpret this as "in
the past <i>N</i> hours". If it is of the form <i>shN</i>, then RIP will
interpret this as "since hour <i>N</i>". An important consideration is
that the time that is implied by the specification of
<i>T</i> must be
available in your RIP data set, or else RIP will not be able to access
the precipitation file(s) at that time to perform the subtraction. If the
time implied by <i>T</i> is negative (for example, if you're trying to
plot 6-h precipitation accumulation at forecast hour 3), RIP will use the
hour-0 data for the subtraction. Here are some examples:
<p><font face="Courier New,Courier">feld=rcum3h -></font> gives cumulus
precip in past 3 h
<br><font face="Courier New,Courier">feld=rtotsh0 -></font> gives total
(cumulus + explicit) precip since hour 0
<br><font face="Courier New,Courier">feld=rexpsh12.5 -></font> gives explicit
precip since hour 12.5
<br><font face="Courier New,Courier">feld=rtot24h -></font> gives total
(cumulus + explicit) in past 24 h; but if plotted before hour 24, gives
total precip since hour 0</blockquote>
<b><i>rhi</i></b>: Relative humidity with respect to ice, percent. (3D)
<p><b><i>rho</i></b>: Density, kg m<sup>-3</sup>. (3D)
<p><b><i>rhu</i></b>: Relative humidity with respect to liquid water, percent.
(3D)
<p><b><i>rib</i></b>: Near-surface Richardson number, as used in high-resolution
PBL scheme, s<sup>-2</sup>. (2D)
<p><b><i>ribbon</i></b>: Trajectory ribbons (see section 7 for more details).
<p><b><i>richnPSSS</i></b>: Richardson number, dimensionless number. (3D)
<blockquote><i>P</i> determines the inclusion of moist physics in the calculation
of the B-V frequency: <i>d</i> for dry, <i>l</i> for liquid-only latent
heating/cooling considerations, and <i>i</i> for liquid and ice latent
heating/cooling considerations. <i>SSS</i> determines the number of horizontal
sigma-level smoothing passes for the velocity prior to calculation of Rich.
num. The <i>SSS</i> value can be omitted if no smoothing is desired, i.e.
<i>feld=richnd000</i>
is the same as <i>feld=richnd</i>. For an explanation of the smoothing
routine, see the description of the keyword <i>smth</i> in Appendix A.
The component of the wind used for the shear calculation is the along-cross-section
(left-to-right) component, where the cross section endpoints are determined
by the <i>crsa</i> and <i>crsb</i> keywords.</blockquote>
<b><i>seFFFNNNNN</i></b> or <b><i>smFFFNNNNN</i></b>: Various fields derived
from inversion of the Sawyer-Eliassen equation, units are variable. (3D)
<blockquote><i>FFF</i> is either <i>psi</i> (Sawyer-Eliassen streamfunction,
mb m s<sup>-1</sup>), <i>vab</i> (balanced ageostrophic wind in the plane
of the cross section, m s<sup>-1</sup>), <i>vtb</i> (geostrophic plus balanced
ageostrophic wind in the plane of the cross section, m s<sup>-1</sup>),
or <i>omb</i> (balanced vertical velocity, <font face="Symbol">m</font>
bar s<sup>-1</sup>). The five <i>N</i>’s correspond to five different forcings
that can be included in the inversion of the Sawyer-Eliassen equation.
They are the confluent frontogenesis term on the RHS, the shear frontogenesis
term on the RHS, a topographic boundary condition, an Ekman boundary condition,
and a side boundary condition that approximately relates the vertical derivative
of <font face="Symbol">y</font> to the actual ageostrophic wind along the
sides of the cross section. Each of the <i>N</i>’s should be set to 1 or
0 to indicate that the corresponding forcing is included or excluded in
the Sawyer-Eliassen inversion. The difference between ‘<i>se</i>’ and ‘<i>sm</i>’
is that in the former case, the dry static stability is used everywhere,
whereas in the latter case, the moist static stability is used where vertical
velocity is upward and the relative humidity exceeds a threshold value.
The moist version is solved "double-iteratively", that is to say, the relaxation
is carried out to convergence several times, with each of the "big" iterations
using the vertical velocity obtained from the previous "big" iteration
in order to choose between moist and dry stability at each grid point in
the cross section.
<p>A variety of parameters can be adjusted in running the Sawyer-Eliassen
diagnosis. These are specified through the keyword <i>sepa</i>, which is
described in detail in Appendix A.
<p>Note: The Sawyer-Eliassen fields can only be plotted in a vertical cross
section with pressure as the vertical coordinate.</blockquote>
<b><i>sfp</i></b>: Surface pressure, mb. (2D)
<p><b><i>sgd</i></b>: Sigma dot [<i>d<font face="Symbol">s</font> /dt</i>],
dimensionless number. (3D)
<p><b><i>sig</i></b>: Sigma, dimensionless number between 0.0 and 1.0.
(3D)
<p><b><i>slp</i></b>: Sea-level pressure inspired by Benjamin and Miller
(1990), mb. (2D)
<p><b><i>slpgr</i></b>: Sea-level pressure as calculated in the GRAPH plotting
program, mb. (2D)
<p><b><i>slpold</i></b>: Sea-level pressure, mb. (2D)
<blockquote>This is the original (and somewhat crude) version of sea-level
pressure used in RIP, in which the below-ground temperature is assumed
to be the surface temperature minus <i>L</i><font face="Symbol">d</font><i>z</i>,
where <i>L</i> is the U.S. Standard Lapse Rate (6.5 <font face="Symbol">&deg;</font>C
km<sup>-1</sup>) and
<font face="Symbol">d</font><i>z</i> is the distance
below ground.</blockquote>
<b><i>snf</i></b>: Frozen fraction of precipitation hydrometeor mixing
ratios, dimensionless number between 0.0 and 1.0. (3D)
<blockquote>Note: This is just [<i>qsn </i>(+ <i>qgr</i> if available)
] / <i>qpr</i>. If <i>qpr</i> is less than .0001 g kg<sup>-1</sup>, then
<i>snf</i>
is set to 0.5. This can be used to give a nice depiction of the "rain/snow
line" if mixed phase microphysics are used.</blockquote>
<b><i>sno</i></b>: Snow cover. (2D)
<p><b><i>spsqTPSSS</i></b>: Scorer parameter squared, m<sup>-2</sup>. (3D)
<p><i>T</i> determines which terms to include: <i>a</i> for <i>N</i><sup>2</sup>/(<i>u-c</i>)<sup>2</sup>,
<i>b</i>
for <i>u<sub>zz</sub></i>/(<i>u-c</i>), or <i>t</i> for total (<i>a</i>
+ <i>b</i>). <i>P</i> determines the inclusion of moist physics in the
calculation of the B-V frequency: <i>d</i> for dry, <i>l</i> for liquid-only
latent heating/cooling considerations, and <i>i</i> for liquid and ice
latent heating/cooling considerations. <i>SSS</i> determines the number
of horizontal sigma-level smoothing passes for the velocity prior to calculation
of Scorer parameter. The <i>SSS</i> value can be omitted if no smoothing
is desired, i.e. <i>feld=spsqtd000</i> is the same as <i>feld=spsqtd</i>.
For an explanation of the smoothing routine, see the description of the
<i>smth</i>
keyword in Appendix A. The component of the wind used for the shear calculation
is the along-cross-section (left-to-right) component, where the cross section
endpoints are determined by the <i>crsa</i> and <i>crsb</i> keywords. The
phase speed in terms <i>a</i> and <i>b</i> can be provided with the
<i>strm</i>
keyword. See the description of the <i>strm</i> keyword in Appendix A.
<p><b><i>sr9</i></b>: Storm-relative flow at 9 km AGL, m s<sup>-1</sup>.
(2D)
<p><b><i>sreh</i></b>: Storm-relative environmental helicity, m<sup>2</sup>
s<sup>-2</sup>. (2D)
<blockquote>Assumes a supercell storm moves at 75% of the magnitude of,
and 30<font face="Symbol">&deg;</font> to the right of, the mean wind vector
between 3 and 10 km AGL.</blockquote>
<b><i>srfh</i></b>: Storm-relative flow at high levels (~9 km), m<sup>2</sup>
s<sup>-2</sup>. (2D)
<blockquote>Assumes a supercell storm moves at 75% of the magnitude of,
and 30<font face="Symbol">&deg;</font> to the right of, the mean wind vector
between 3 and 10 km AGL.</blockquote>
<b><i>srlh</i></b>: Storm-relative flow at low levels (~2 km), m<sup>2</sup>
s<sup>-2</sup>. (2D)
<blockquote>Assumes a supercell storm moves at 75% of the magnitude of,
and 30<font face="Symbol">&deg;</font> to the right of, the mean wind vector
between 3 and 10 km AGL.</blockquote>
<b><i>stb</i></b>: Static stability [-<i>d</i><font face="Symbol">q</font>/<i>dp</i>],
K hPa<sup>-1</sup>. (3D)
<p><b><i>stbz</i></b>: Static stability [<i>d</i><font face="Symbol">q</font>/<i>dz</i>],
K km<sup>-1</sup>. (3D)
<p><b><i>swarm</i></b>: Trajectory swarms (see section 7 for more details).
<p><b><i>tdd</i></b>: Dew point depression, <font face="Symbol">&deg;</font>C.
(3D)
<p><b><i>tdf</i></b>: Dew point temperature, <font face="Symbol">&deg;</font>F.
(3D)
<p><b><i>tdp</i></b>: Dew point temperature, <font face="Symbol">&deg;</font>C.
(3D)
<p><b><i>ter</i></b>: Terrain height, m. (2D)
<p><b><i>ter_pseudo</i></b>: Height of "pseudo-terrain" surface for pressure-level
data, m. (2D)
<blockquote>See section 6 for a complete explanation of how pressure-level
data is handled by RIP.</blockquote>
<b><i>tfp</i></b>: Frost point temperature, <font face="Symbol">&deg;</font>C.
(3D)
<p><b><i>tgc</i></b>: Ground temperature, <font face="Symbol">&deg;</font>C.
(2D)
<p><b><i>tgk</i></b>: Ground temperature, K. (2D)
<p><b><i>thckMMMNNN</i></b>: Thickness, decameters (or dam). (2D)
<blockquote><i>MMM</i> and <i>NNN</i> are the lower and upper pressure
levels, respectively, expressed in kPa with leading zeros included, so
that the total number of digits is always 6. For example:
<p><font face="Courier New,Courier">thck100050 -></font> This gives the
1000 to 500 hPa thickness.
<br><font face="Courier New,Courier">thck050005 -></font> This gives the
500 to 50 hPa thickness.</blockquote>
<b><i>the</i></b>: Potential temperature, K. (3D)
<p><b><i>the_sfan</i></b>: Potential temperature based on surface analysis
fields in pressure-level data, K. (2D)
<blockquote>If the data being analyzed is pressure-level data, there should
exist surface analysis fields of temperature (<i>tmk_sfan</i>) and water
vapor (<i>qvp_sfan</i>), as well as the true surface pressure (<i>prs_tsf</i>).
From these, the surface analysis of theta can be calculated. In general,
this will not be exactly the same as using <i>feld=the</i> and requesting
an interpolation to the true surface (with <i>vcor=p; levs=1001</i>). It
is unclear which method is better. See section 6 for a complete explanation
of how pressure-level data is handled by RIP.</blockquote>
<b><i>thv</i></b>: Virtual potential temperature, K. (3D)
<p><b><i>tmc</i></b>: Temperature, <font face="Symbol">&deg;</font>C. (3D)
<p><b><i>tmclKK</i></b>: Temperature of a lifted parcel, <font face="Symbol">&deg;</font>C.
(3D)
<blockquote>The level from which parcels are to be lifted is the half-sigma
level that is the <i>KK</i>th level from the bottom (always use two
digits). Therefore, this field is only defined for sigma levels at or above
that level. This field is most useful for plotting in a sounding, to give a
sense of the CAPE.</blockquote>
<p><b><i>tvclKK</i></b>: Virtual temperature of a lifted parcel, <font face="Symbol">&deg;</font>C.
(3D)
<blockquote>This is the same as <i>tmcl</i>, except it gives the virtual
temperature of a lifted parcel.  When plotted alongside <i>tvc</i> on a skew-T
sounding, this gives a more accurate graphical representation of CAPE than does
<i>tmcl</i> plotted alongside <i>tmc</i>. </blockquote>
<b><i>tmf</i></b>: Temperature, <font face="Symbol">&deg;</font>F. (3D)
<p><b><i>tmk</i></b>: Temperature, K. (3D)
<p><b><i>tpt</i></b>: Temperature perturbation, <font face="Symbol">&deg;</font>C
(or K). (3D)
<blockquote>The perturbation is with respect to the reference state, as
defined by the keyword <i>rfst</i>.</blockquote>
<b><i>tptslr</i></b>: Temperature perturbation with respect to the U.S.
Standard Atmosphere, <font face="Symbol">&deg;</font>C. (or K) (3D)
<p><b><i>tsfc</i></b>: Surface air temperature, <font face="Symbol">&deg;</font>C.
(2D)
<blockquote>This temperature is intended to represent the surface air temperature
as measured by a surface meteorological station (at ~10 m height AGL).
From model output, it is calculated with a crude application of similarity
theory: if the lowest half-sigma layer (LHSL) air temperature is warmer
than the ground temperature, <i>tsfc</i> is equal to the LHSL air temperature;
if the LHSL air temperature is colder than the ground temperature, <i>tsfc</i>
is equal to the average of the ground temperature and the LHSL air temperature.&nbsp;
From pressure-level output, it just uses the surface air temperature analysis
that is stored in the file ending in <i>tmk_sfan</i>.</blockquote>
<b><i>tsff</i></b>: Surface air temperature, <font face="Symbol">&deg;</font>F.
(2D)
<blockquote>Same as above, except in units of <font face="Symbol">&deg;</font>F.</blockquote>
<p><b><i>tvc</i></b>: Virtual temperature, <font face="Symbol">&deg;</font>C. (3D)
<p><b><i>tvk</i></b>: Virtual temperature, K. (3D)
<p><b><i>twb</i></b>: Wet bulb temperature, <font face="Symbol">&deg;</font>C.
(3D)
<p><b><i>uageo</i></b>: Horizontal ageostrophic wind speed in the <i>x</i>
(or <i>j</i>-index) direction, m s<sup>-1</sup>. (3D)
<p><b><i>ugeo</i></b>: Horizontal geostrophic wind speed in the <i>x</i>
(or <i>j</i>-index) direction, m s<sup>-1</sup>. (3D)
<p><b><i>uubs</i></b>: 0-6 km shear (<i>x</i>-component), m s<sup>-1</sup>.
(2D)
<p><b><i>uusr</i></b>: Supercell motion vector following Bukers et al (1999)
(<i>x</i>-component), m s<sup>-1</sup>. (2D)
<p><b><i>uuu</i></b>: Horizontal wind speed in the <i>x</i> (or <i>j</i>-index)
direction, m s<sup>-1</sup>. (3D)
<p><b><i>vacc</i></b>: Vertical acceleration, m s<sup>-2</sup>. (3D)
<blockquote>This field calculates the right hand side of the vertical momentum
equation, including water loading effects.</blockquote>
<b><i>vadvtheta</i></b>: Vertical advection of potential temperature, K
h<sup>-1</sup>. (3D)
<blockquote>This calculates the local change in potential temperature due
to vertical advection. The vertical velocity and potential temperature
fields can be smoothed on constant-pressure surfaces prior to the computing
of the product in this nonlinear quantity, by using the <i>qgsm</i> keyword.</blockquote>
<b><i>vageo</i></b>: Horizontal ageostrophic wind speed in the <i>y</i>
(or <i>i</i>-index) direction, m s<sup>-1</sup>. (3D)
<p><b><i>vgeo</i></b>: Horizontal geostrophic wind speed in the <i>y</i>
(or <i>i</i>-index) direction, m s<sup>-1</sup>. (3D)
<p><b><i>vgp</i></b>: Vorticity generation potential, m s<sup>-2</sup>.
(2D)
<blockquote>This is the 0 to 3 km AGL total shear (i.e., the length of
the 0-3 km AGL hodograph divided by 3000 m) times the square root of CAPE
of the parcel with maximum <font face="Symbol">q</font><sub>e</sub> below
3 km AGL.</blockquote>
<b><i>visX</i></b>: Surface visibility due to hydrometeors, km. (2D)
<p>Regardless of whether mixed phase microphysics were used, there are
three possibilities to choose from for the determination of the phase of
cloud and precipitation hydrometeors: Replace <i>X</i> with <i>d</i> for
the 0 <font face="Symbol">&deg;</font>Celsius assumption, <i>b</i> for
the Bocchieri assumption, or
<i>r</i> for the mixed phase assumption. See
code for details of these assumptions.
<p><b><i>vor</i></b>: Relative vorticity (vertical component), s<sup>-1</sup>.
(3D)
<p><b><i>vgeo</i></b>: Horizontal geostrophic wind speed in the <i>y</i>
(or <i>i</i>-index) direction, m s<sup>-1</sup>. (3D)
<p><b><i>vvbs</i></b>: 0-6 km shear (<i>y</i>-component), m s<sup>-1</sup>.
(2D)
<p><b><i>vvsr</i></b>: Supercell motion vector following Bukers et al (1999)
(<i>y</i>-component), m s<sup>-1</sup>. (2D)
<p><b><i>vvv</i></b>: Horizontal wind speed in the <i>y</i> (or <i>i</i>-index)
direction, m s<sup>-1</sup>. (3D)
<p><b><i>wdr</i></b>: Horizontal wind direction (compass direction that
wind is blowing from), degrees. (3D)
<p><b><i>wsp</i></b>: Horizontal wind speed, m s<sup>-1</sup>. (3D)
<p><b><i>www</i></b>: Vertical velocity (<i>dz</i>/<i>dt</i>), cm s<sup>-1</sup>.
(3D)
<p><b><i>xlus</i></b>: Land use category. (2D)
<p><b><i>xmap</i></b>: Map factor, dimensionless number. (2D)
<p><b><i>xnt</i></b>: Horizontal wind component normal to the cross section,
m s<sup>-1</sup>. (3D)
<blockquote>Note: The normal wind component is calculated using the cross
section end points defined by the <i>crsa</i> and <i>crsb</i> keywords.
Positive is assumed to be into the cross section.</blockquote>
<b><i>xntageo</i></b>: Horizontal ageostrophic wind component normal to
the cross section, m s<sup>-1</sup>. (3D)
<blockquote>Note: The normal wind component is calculated using the cross
section end points defined by the <i>crsa</i> and <i>crsb</i> keywords.
Positive is assumed to be into the cross section.</blockquote>
<b><i>xntgeo</i></b>: Horizontal geostrophic wind component normal to the
cross section, m s<sup>-1</sup>. (3D)
<blockquote>Note: The normal wind component is calculated using the cross
section end points defined by the <i>crsa</i> and <i>crsb</i> keywords.
Positive is assumed to be into the cross section.</blockquote>
<b><i>xpt</i></b>: Horizontal wind component parallel to the cross section,
m s<sup>-1</sup>. (3D)
<blockquote>Note: The parallel wind component is calculated using the cross
section end points defined by the <i>crsa</i> and <i>crsb</i> keywords.
Positive is assumed to be from left to right.</blockquote>
<b><i>xptageo</i></b>: Horizontal ageostrophic wind component parallel
to the cross section, m s<sup>-1</sup>. (3D)
<blockquote>Note: The parallel wind component is calculated using the cross
section end points defined by the <i>crsa</i> and <i>crsb</i> keywords.
Positive is assumed to be from left to right.</blockquote>
<b><i>xptgeo</i></b>: Horizontal geostrophic wind component parallel to
the cross section, m s<sup>-1</sup>. (3D)
<blockquote>Note: The parallel wind component is calculated using the cross
section end points defined by the <i>crsa</i> and <i>crsb</i> keywords.
Positive is assumed to be from left to right.</blockquote>

</body>
</html>
