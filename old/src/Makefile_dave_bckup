#        Lower-level Makefile for RIP

#        Suffix rules and commands

.IGNORE:

RM 	= rm -f
MV 	= mv -f
LN	= ln -s
CC 	= cc

.SUFFIXES: .f_dave .f .c .o

.f_dave.f:
	$(RM) $@
	/bin/cp $< $@

.f.o:
	$(CF) -c $(FFLAGS) $*.f

.c.o:
	$(CC) -c $(CCFLAGS) $*.c

OBJS= \
	addorfill.o adjellip.o angle.o barb.o bes.o bogs.o \
	brnshr.o bshear.o bvfricalc.o capecalc3d.o \
	ceilingcalc.o colram.o colrln.o condheat.o \
	contrive2.o contrivefg.o cpchhl.o cpchll.o \
	cpcolr.o cpmpxy.o cpplps.o createdtg.o cttcalc.o ddpcalc.o \
	ddx.o ddy.o derivcp.o derivcz.o dpbhcalc.o \
	dpcalc.o drawcl.o driver.o eqthecalc.o \
	extingcalc.o fields.o fillarray.o finterp.o \
	finterp2d.o fregcalc.o frtitle.o fy.o getchar.o \
	getconvals.o getdash.o getheadinfo.o getinum.o \
	getpt.o getrnum.o hboxdraw.o hbulldraw.o \
	hchadraw.o hcondraw.o hiresmap.o hlinedraw.o \
	hmapdraw.o hodograph.o hsidsdraw.o hstrdraw.o \
	hticdraw.o htrajdraw.o hvecdraw.o igetcoind.o \
	liftparcel.o locinterp.o maptform.o maptick.o \
	mconvert.o mktrjpts.o mlen.o monotonic.o netasc.o \
	numeric.o pfcalc.o pltitle.o prcver.o precprob.o \
	premaptform.o profil.o pvocalc.o qgomg.o rdcolt.o \
	readbasic.o readdat.o readspec.o relhl.o rhucalc.o \
	rip.o saweli.o scondraw.o scondraw_polar.o seaprs.o sfpcalc.o \
	slpbmcalc.o slpcalc.o smooth.o smoothcp.o srflow.o \
	srflow2.o sstats.o sticdraw.o sticdraw_polar.o \
        svecdraw.o svecdraw_polar.o tdpcalc.o \
	tfpcalc.o thecalc.o thickcalc.o tonpsadiabat.o \
	tserprep.o turb.o unblank.o vc2dcalc.o vcondraw.o \
	velbrb.o velvctmts.o vervcalc.o vgp.o vinterp.o \
	virtual.o viscalc.o vticdraw.o vtrajdraw.o \
	vvecdraw.o vwinddraw.o wdircalc.o wetbulbcalc.o \
	writefile.o wshear.o wspcalc.o xtodot.o binio.o v5d.o

# Lines from here on down should not need to be changed.  They are the
# actual rules which make uses to build a.out.

all: 	rip ripcomp ripdp ripinterp ripshow showtraj tabdiag upscale

rip: 	$(OBJS)
	$(CF) -o $@ $(LDFLAGS) $(OBJS) $(LIBS)

ripcomp:
	$(CF) $(FFLAGS2) -o $@ $@.f
ripdp:
	$(CF) $(FFLAGS2) -o $@ $@.f
ripinterp:
	$(CF) $(FFLAGS2) -o $@ $@.f
ripshow:
	$(CF) $(FFLAGS2) -o $@ $@.f
showtraj:
	$(CF) $(FFLAGS2) -o $@ $@.f
tabdiag:
	$(CF) $(FFLAGS2) -o $@ $@.f
upscale:
	$(CF) $(FFLAGS2) -o $@ $@.f

addorfill.o:    comconst
adjellip.o:     comconst
bogs.o:         comconst
brnshr.o:       comconst
bvfricalc.o:    comconst
capecalc3d.o:   comconst
ceilingcalc.o:  comconst
condheat.o:     comconst
contrive2.o:    comconst
contrivefg.o:   comconst
cpmpxy.o:       comconst
cttcalc.o:      comconst
ddpcalc.o:      comconst
ddx.o:          comconst
ddy.o:          comconst
derivcp.o:      comconst
derivcz.o:      comconst
dpbhcalc.o:     comconst
dpcalc.o:       comconst
driver.o:       comconst        pointers
eqthecalc.o:    comconst
extingcalc.o:   comconst
fields.o:       comconst        pointers
fregcalc.o:     comconst
fy.o:           comconst
getchar.o:      comconst
getdash.o:      comconst
getinum.o:      comconst
getpt.o:        comconst
getrnum.o:      comconst
hboxdraw.o:     comconst
hbulldraw.o:    comconst
hchadraw.o:     comconst
hcondraw.o:     comconst
hlinedraw.o:    comconst
hmapdraw.o:     comconst
hsidsdraw.o:    comconst
hstrdraw.o:     comconst
hticdraw.o:     comconst
htrajdraw.o:    comconst
hvecdraw.o:     comconst
igetcoind.o:    comconst
liftparcel.o:   comconst
locinterp.o:    comconst
netasc.o:       comconst
pfcalc.o:       comconst
pltitle.o:      comconst
prcver.o:       comconst
precprob.o:     comconst
profil.o:       comconst
pvocalc.o:      comconst
qgomg.o:        comconst
rdcolt.o:       comconst
readdat.o:      comconst
readspec.o:     comconst
rhucalc.o:      comconst
rip.o:          comconst
saweli.o:       comconst
scondraw.o:     comconst
scondraw_polar.o:     comconst
sfpcalc.o:      comconst
slpbmcalc.o:    comconst
slpcalc.o:      comconst
smooth.o:       comconst
smoothcp.o:     comconst
sstats.o:       comconst
	$(CF) -c $(FFLAGS2) $*.f
sticdraw.o:     comconst
sticdraw_polar.o:     comconst
svecdraw.o:     comconst
svecdraw_polar.o:     comconst
tdpcalc.o:      comconst
tfpcalc.o:      comconst
thecalc.o:      comconst
thickcalc.o:    comconst
tonpsadiabat.o: comconst
tserprep.o:     comconst
turb.o:         comconst
unblank.o:      comconst
vc2dcalc.o:     comconst
vcondraw.o:     comconst
	$(CF) -c $(FFLAGS2) $*.f
velbrb.o:       comconst
vervcalc.o:     comconst
vinterp.o:      comconst
virtual.o:      comconst
viscalc.o:      comconst
vticdraw.o:     comconst
vtrajdraw.o:    comconst
vvecdraw.o:     comconst
vwinddraw.o:    comconst
wdircalc.o:     comconst
wetbulbcalc.o:  comconst
writefile.o:    comconst
wshear.o:       comconst
wspcalc.o:      comconst

